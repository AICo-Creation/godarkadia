:root {
  --bg-0: #120d1f;
  --bg-1: #1d1630;
  --bg-2: #2b2140;
  --glass: rgba(10, 12, 18, 0.82);
  --line: rgba(220, 228, 245, 0.26);
  --line-strong: rgba(247, 251, 255, 0.78);
  --text: #f8f2e6;
  --muted: #c0c9db;
  --accent: #e8efff;
  --accent-2: #f2f6ff;
  --danger: #ff9b92;
  --shadow: 0 20px 60px rgba(0, 0, 0, 0.48);
  --node-0: rgba(7, 9, 14, 0.92);
  --node-1: rgba(11, 14, 20, 0.94);
  --node-2: rgba(15, 18, 26, 0.86);
  --node-border: rgba(221, 229, 245, 0.28);
}

* {
  box-sizing: border-box;
}

html,
body {
  margin: 0;
  min-height: 100%;
}

body {
  font-family: "Hiragino Mincho ProN", "Yu Mincho", "BIZ UDPMincho", serif;
  color: var(--text);
  background: #000;
  overflow-x: hidden;
}

body.berserker-screen-shake {
  animation: berserkerScreenShake var(--berserker-screen-shake-ms, 760ms) cubic-bezier(0.2, 0.7, 0.16, 1);
}

.ambient {
  position: fixed;
  inset: 0;
  pointer-events: none;
  background-image:
    radial-gradient(46% 34% at 14% 20%, rgba(255, 255, 255, 0.28) 0%, rgba(255, 255, 255, 0) 72%),
    radial-gradient(40% 30% at 86% 14%, rgba(255, 255, 255, 0.22) 0%, rgba(255, 255, 255, 0) 72%),
    radial-gradient(50% 38% at 52% 82%, rgba(255, 255, 255, 0.16) 0%, rgba(255, 255, 255, 0) 76%),
    radial-gradient(30% 24% at 74% 58%, rgba(255, 255, 255, 0.12) 0%, rgba(255, 255, 255, 0) 74%);
  filter: blur(2px);
  animation: shimmer 22s ease-in-out infinite;
}

.ambient::before,
.ambient::after {
  content: "";
  position: absolute;
  inset: 0;
  pointer-events: none;
  opacity: 0;
  transition: opacity 0.45s ease;
}

body.turn-multiple-6 .ambient::before {
  opacity: 1;
  background: linear-gradient(118deg, #3a2a00 0%, #6a4706 22%, #ffd157 48%, #b67a0f 72%, #3a2a00 100%);
  background-size: 320% 320%;
  filter: saturate(1.28) brightness(1.08);
  animation: divineGoldDrift 5.4s linear infinite;
}

body.turn-multiple-6 .ambient::after {
  opacity: 0.92;
  background:
    radial-gradient(48% 42% at 16% 24%, rgba(255, 255, 255, 0.28) 0%, rgba(255, 255, 255, 0) 72%),
    radial-gradient(56% 52% at 84% 74%, rgba(255, 255, 255, 0.22) 0%, rgba(255, 255, 255, 0) 76%),
    linear-gradient(160deg, rgba(255, 255, 255, 0.13) 0%, rgba(0, 0, 0, 0.28) 52%, rgba(0, 0, 0, 0.42) 100%);
  filter: contrast(1.06);
  animation: divineOverlayPulse 3.6s ease-in-out infinite;
}

body.turn-multiple-5:not(.turn-multiple-6) .ambient::before {
  opacity: 1;
  background: linear-gradient(122deg, #130103 0%, #3d060c 20%, #8d101e 48%, #49070f 76%, #130103 100%);
  background-size: 300% 300%;
  filter: saturate(1.34) brightness(1.04);
  animation: crimsonAbyssDrift 5.1s linear infinite;
}

body.turn-multiple-5:not(.turn-multiple-6) .ambient::after {
  opacity: 0.9;
  background:
    radial-gradient(48% 42% at 12% 24%, rgba(255, 209, 209, 0.22) 0%, rgba(255, 209, 209, 0) 72%),
    radial-gradient(56% 52% at 86% 72%, rgba(255, 176, 176, 0.18) 0%, rgba(255, 176, 176, 0) 76%),
    linear-gradient(162deg, rgba(255, 120, 120, 0.12) 0%, rgba(10, 0, 0, 0.32) 48%, rgba(0, 0, 0, 0.44) 100%);
  filter: contrast(1.08);
  animation: crimsonMistPulse 3.4s ease-in-out infinite;
}

body.turn-multiple-4:not(.turn-multiple-5):not(.turn-multiple-6) .ambient::before {
  opacity: 1;
  background: linear-gradient(126deg, #0f0f10 0%, #f7f7f7 20%, #b8b8b8 48%, #fafafa 72%, #111112 100%);
  background-size: 320% 320%;
  filter: saturate(0.18) brightness(1.14);
  animation: ivoryPrismDrift 5.2s linear infinite;
}

body.turn-multiple-4:not(.turn-multiple-5):not(.turn-multiple-6) .ambient::after {
  opacity: 0.92;
  background:
    radial-gradient(46% 40% at 14% 26%, rgba(255, 255, 255, 0.28) 0%, rgba(255, 255, 255, 0) 72%),
    radial-gradient(54% 52% at 84% 74%, rgba(248, 248, 248, 0.22) 0%, rgba(248, 248, 248, 0) 76%),
    linear-gradient(164deg, rgba(255, 255, 255, 0.14) 0%, rgba(38, 38, 40, 0.26) 52%, rgba(8, 8, 10, 0.44) 100%);
  filter: contrast(1.12);
  animation: ivoryMistPulse 3.5s ease-in-out infinite;
}

body.turn-multiple-3:not(.turn-multiple-4):not(.turn-multiple-5):not(.turn-multiple-6) .ambient::before {
  opacity: 1;
  background: linear-gradient(124deg, #13061f 0%, #34104e 20%, #6e2cc6 48%, #3a1660 74%, #140721 100%);
  background-size: 320% 320%;
  filter: saturate(1.36) brightness(1.08);
  animation: violetNebulaDrift 5.3s linear infinite;
}

body.turn-multiple-3:not(.turn-multiple-4):not(.turn-multiple-5):not(.turn-multiple-6) .ambient::after {
  opacity: 0.9;
  background:
    radial-gradient(48% 44% at 14% 22%, rgba(220, 184, 255, 0.24) 0%, rgba(220, 184, 255, 0) 72%),
    radial-gradient(56% 52% at 86% 76%, rgba(188, 160, 255, 0.2) 0%, rgba(188, 160, 255, 0) 76%),
    linear-gradient(162deg, rgba(215, 164, 255, 0.12) 0%, rgba(16, 7, 30, 0.32) 48%, rgba(0, 0, 0, 0.42) 100%);
  filter: contrast(1.1);
  animation: violetAuraPulse 3.6s ease-in-out infinite;
}

body.turn-multiple-6 .hero,
body.turn-multiple-6 .combatant,
body.turn-multiple-6 .turn-panel,
body.turn-multiple-6 .board-slot,
body.turn-multiple-6 .resource-item,
body.turn-multiple-6 .ability-info-panel {
  background:
    linear-gradient(
      128deg,
      rgba(8, 8, 8, 0.94) 0%,
      rgba(244, 244, 244, 0.2) 34%,
      rgba(22, 22, 22, 0.94) 63%,
      rgba(255, 255, 255, 0.16) 100%
    );
  background-size: 260% 260%;
  border-color: #ff0037;
  box-shadow:
    0 0 0 1px rgba(255, 0, 55, 0.72),
    0 0 14px rgba(255, 0, 55, 0.42);
  animation: monochromeNodeFlow 3.1s linear infinite, rainbowNodeBorderGlow 2.4s linear infinite;
}

body.turn-multiple-6 .combatant-label,
body.turn-multiple-6 .slot-role {
  color: #f2f2f2;
}

body.turn-multiple-6 .combatant-sub,
body.turn-multiple-6 .turn-rule,
body.turn-multiple-6 .resource-item .label,
body.turn-multiple-6 .ability-info-panel p {
  color: rgba(228, 228, 228, 0.88);
}

body.turn-multiple-6 .morale-value,
body.turn-multiple-6 .morale-value strong {
  color: #f5f5f5;
}

body.turn-multiple-5:not(.turn-multiple-6) :is(.hero, .combatant, .turn-panel, .board-slot, .resource-item, .ability-info-panel) {
  border-color: #ff0000;
  box-shadow:
    0 0 0 1px rgba(255, 0, 0, 0.72),
    0 0 12px rgba(255, 0, 0, 0.4);
}

body.turn-multiple-4:not(.turn-multiple-5):not(.turn-multiple-6)
  :is(.hero, .combatant, .turn-panel, .board-slot, .resource-item, .ability-info-panel) {
  border-color: #ffd700;
  box-shadow:
    0 0 0 1px rgba(255, 215, 0, 0.74),
    0 0 12px rgba(255, 215, 0, 0.42);
}

body.turn-multiple-3:not(.turn-multiple-4):not(.turn-multiple-5):not(.turn-multiple-6)
  :is(.hero, .combatant, .turn-panel, .board-slot, .resource-item, .ability-info-panel) {
  border-color: #a600ff;
  box-shadow:
    0 0 0 1px rgba(166, 0, 255, 0.74),
    0 0 12px rgba(166, 0, 255, 0.42);
}

.title-screen {
  position: fixed;
  inset: 0;
  z-index: 130;
  overflow: hidden;
  cursor: pointer;
  opacity: 1;
  transition: opacity 0.9s ease;
}

.title-screen::after {
  content: "";
  position: absolute;
  inset: -12%;
  pointer-events: none;
  opacity: 0;
  transform: scale(0.88);
  filter: blur(6px);
  background:
    radial-gradient(
      circle at 50% 46%,
      rgba(255, 253, 240, 0) 0%,
      rgba(255, 252, 234, 0.08) 24%,
      rgba(255, 248, 214, 0.96) 40%,
      rgba(255, 250, 224, 0.22) 58%,
      rgba(255, 255, 255, 0) 76%
    );
}

.title-screen.is-hidden {
  opacity: 0;
  pointer-events: none;
}

.title-screen.is-starting {
  pointer-events: none;
}

.title-screen.is-starting::after {
  animation: titleStartFlash 1.4s ease-in-out forwards;
}

.title-screen.is-starting .title-screen-art {
  animation: titleStartArtBloom 1.4s ease-in-out forwards;
}

.title-screen.is-starting .title-screen-overlay {
  animation: titleStartOverlayBloom 1.4s ease-in-out forwards;
}

.title-screen.is-starting .title-screen-content {
  animation: titleStartContentBloom 1.4s ease-in-out forwards;
}

.title-screen-art {
  position: absolute;
  inset: 0;
  width: 100%;
  height: 100%;
  object-fit: cover;
  display: block;
  transform: scale(1.02);
}

.title-screen-overlay {
  position: absolute;
  inset: 0;
  background:
    radial-gradient(circle at 50% 38%, rgba(255, 237, 189, 0.2), rgba(12, 8, 18, 0.58) 48%, rgba(4, 3, 8, 0.84) 88%),
    linear-gradient(180deg, rgba(5, 5, 9, 0.08), rgba(5, 5, 9, 0.76));
}

.title-screen-content {
  position: absolute;
  left: 50%;
  bottom: 9vh;
  transform: translateX(-50%);
  width: min(92vw, 760px);
  text-align: center;
  padding: 18px 16px 12px;
  border: 1px solid rgba(250, 235, 188, 0.36);
  border-radius: 18px;
  background: linear-gradient(170deg, rgba(12, 10, 16, 0.68), rgba(8, 7, 13, 0.8));
  box-shadow:
    0 22px 54px rgba(0, 0, 0, 0.55),
    inset 0 0 28px rgba(255, 233, 179, 0.1);
}

.title-screen-kicker {
  margin: 0;
  font-size: 0.74rem;
  letter-spacing: 0.24em;
  text-transform: uppercase;
  color: rgba(243, 232, 194, 0.92);
}

.title-screen-title {
  margin: 6px 0 4px;
  font-family: "Cinzel", "Trajan Pro", "Didot", "Bodoni MT", serif;
  font-size: clamp(2.05rem, 6.2vw, 3.6rem);
  letter-spacing: 0.12em;
  color: #fff2c8;
  text-shadow:
    0 0 20px rgba(255, 220, 142, 0.48),
    0 0 48px rgba(255, 186, 95, 0.36);
}

.title-screen-tap {
  margin: 0;
  font-size: 0.84rem;
  color: rgba(228, 214, 180, 0.96);
  letter-spacing: 0.08em;
}

.title-menu {
  margin-top: 12px;
  display: grid;
  grid-template-columns: repeat(2, minmax(0, 1fr));
  gap: 9px;
}

.title-menu-btn {
  appearance: none;
  border: 1px solid rgba(255, 224, 163, 0.62);
  border-radius: 12px;
  padding: 10px 8px;
  background: linear-gradient(150deg, rgba(61, 41, 18, 0.88), rgba(139, 101, 46, 0.82));
  color: #fff4da;
  font-weight: 700;
  font-family: "Hiragino Mincho ProN", "Yu Mincho", serif;
  cursor: pointer;
  transition: transform 0.15s ease, filter 0.15s ease;
}

.title-menu-btn:hover {
  transform: translateY(-1px);
  filter: brightness(1.08);
}

.title-subnote {
  margin: 10px 0 0;
  color: rgba(245, 231, 198, 0.92);
  font-size: 0.78rem;
}

.title-password-panel {
  margin-top: 14px;
  border: 1px solid rgba(255, 231, 177, 0.42);
  border-radius: 16px;
  padding: 14px 12px 12px;
  background: linear-gradient(162deg, rgba(13, 11, 18, 0.88), rgba(28, 20, 11, 0.82));
  box-shadow:
    inset 0 0 26px rgba(255, 225, 160, 0.1),
    0 14px 30px rgba(0, 0, 0, 0.36);
  text-align: left;
}

.title-settings-panel {
  margin-top: 14px;
  border: 1px solid rgba(255, 231, 177, 0.42);
  border-radius: 16px;
  padding: 14px 12px 12px;
  background: linear-gradient(162deg, rgba(13, 11, 18, 0.88), rgba(28, 20, 11, 0.82));
  box-shadow:
    inset 0 0 26px rgba(255, 225, 160, 0.1),
    0 14px 30px rgba(0, 0, 0, 0.36);
  text-align: left;
}

.title-arena-panel {
  margin-top: 14px;
  border: 1px solid rgba(255, 231, 177, 0.42);
  border-radius: 16px;
  padding: 14px 12px 12px;
  background: linear-gradient(162deg, rgba(13, 11, 18, 0.88), rgba(28, 20, 11, 0.82));
  box-shadow:
    inset 0 0 26px rgba(255, 225, 160, 0.1),
    0 14px 30px rgba(0, 0, 0, 0.36);
  text-align: left;
}

.title-password-head {
  margin-bottom: 10px;
}

.title-settings-head {
  margin-bottom: 10px;
}

.title-arena-head {
  margin-bottom: 10px;
}

.title-password-kicker {
  margin: 0;
  font-size: 0.7rem;
  letter-spacing: 0.22em;
  text-transform: uppercase;
  color: rgba(247, 229, 190, 0.78);
}

.title-settings-kicker {
  margin: 0;
  font-size: 0.7rem;
  letter-spacing: 0.22em;
  text-transform: uppercase;
  color: rgba(247, 229, 190, 0.78);
}

.title-arena-kicker {
  margin: 0;
  font-size: 0.7rem;
  letter-spacing: 0.22em;
  text-transform: uppercase;
  color: rgba(247, 229, 190, 0.78);
}

.title-password-head h2 {
  margin: 4px 0 0;
  font-size: 1.06rem;
  letter-spacing: 0.04em;
  color: #fff4d2;
}

.title-settings-head h2 {
  margin: 4px 0 0;
  font-size: 1.06rem;
  letter-spacing: 0.04em;
  color: #fff4d2;
}

.title-arena-head h2 {
  margin: 4px 0 0;
  font-size: 1.06rem;
  letter-spacing: 0.04em;
  color: #fff4d2;
}

.title-password-form {
  display: grid;
  gap: 6px;
}

.title-settings-grid {
  display: grid;
  gap: 10px;
}

.title-arena-grid {
  display: grid;
  gap: 8px;
}

.title-arena-btn {
  appearance: none;
  width: 100%;
  border: 1px solid rgba(255, 224, 163, 0.56);
  border-radius: 12px;
  padding: 10px 11px;
  background: linear-gradient(154deg, rgba(22, 17, 26, 0.9), rgba(58, 35, 18, 0.86));
  color: #fff2db;
  text-align: left;
  font-family: "Hiragino Mincho ProN", "Yu Mincho", serif;
  cursor: pointer;
  transition: transform 0.14s ease, filter 0.14s ease, border-color 0.14s ease;
  display: grid;
  gap: 3px;
}

.title-arena-btn:hover {
  transform: translateY(-1px);
  filter: brightness(1.08);
  border-color: rgba(255, 235, 188, 0.84);
}

.title-arena-btn:disabled {
  cursor: not-allowed;
  opacity: 0.62;
  filter: saturate(0.72) brightness(0.84);
  border-color: rgba(184, 176, 158, 0.54);
}

.title-arena-btn .name {
  font-size: 0.88rem;
  font-weight: 700;
  letter-spacing: 0.03em;
}

.title-arena-btn .meta {
  font-size: 0.72rem;
  color: rgba(244, 231, 201, 0.78);
}

.title-setting-item {
  display: grid;
  grid-template-columns: minmax(0, 1fr) auto;
  gap: 12px;
  align-items: center;
  padding: 11px 10px;
  border-radius: 12px;
  border: 1px solid rgba(255, 230, 183, 0.22);
  background: linear-gradient(152deg, rgba(17, 14, 23, 0.88), rgba(31, 23, 14, 0.84));
}

.title-setting-item.is-placeholder {
  opacity: 0.72;
}

.title-setting-copy h3 {
  margin: 0;
  font-size: 0.88rem;
  letter-spacing: 0.04em;
  color: #fff4d5;
}

.title-setting-copy p {
  margin: 4px 0 0;
  font-size: 0.74rem;
  color: rgba(240, 229, 203, 0.84);
}

.title-settings-toggle {
  appearance: none;
  border: 1px solid rgba(255, 224, 163, 0.66);
  border-radius: 11px;
  padding: 8px 11px;
  min-width: 114px;
  background: linear-gradient(148deg, rgba(62, 42, 17, 0.88), rgba(132, 95, 43, 0.84));
  color: #fff2d9;
  font-family: "Hiragino Mincho ProN", "Yu Mincho", serif;
  font-weight: 700;
  letter-spacing: 0.02em;
  cursor: pointer;
  display: grid;
  gap: 2px;
  justify-items: center;
  transition: transform 0.14s ease, filter 0.14s ease, border-color 0.14s ease;
}

.title-settings-toggle:hover {
  transform: translateY(-1px);
  filter: brightness(1.08);
}

.title-settings-toggle.is-on {
  border-color: rgba(201, 255, 225, 0.86);
  background: linear-gradient(148deg, rgba(20, 62, 40, 0.9), rgba(54, 138, 86, 0.82));
}

.title-settings-toggle.is-off {
  border-color: rgba(255, 199, 177, 0.78);
  background: linear-gradient(148deg, rgba(75, 34, 27, 0.9), rgba(130, 62, 48, 0.82));
}

.title-settings-toggle-label {
  font-size: 0.68rem;
  letter-spacing: 0.08em;
  opacity: 0.88;
}

.title-settings-toggle-state {
  font-size: 0.96rem;
  line-height: 1;
}

.title-setting-placeholder {
  margin: 0;
  padding: 4px 10px;
  border-radius: 999px;
  border: 1px solid rgba(255, 224, 163, 0.4);
  font-size: 0.7rem;
  letter-spacing: 0.08em;
  color: rgba(252, 236, 194, 0.82);
}

.title-settings-note {
  margin: 9px 0 0;
  min-height: 1.2em;
  font-size: 0.76rem;
  color: rgba(240, 230, 205, 0.92);
}

.title-password-form label {
  font-size: 0.75rem;
  letter-spacing: 0.05em;
  color: rgba(247, 229, 190, 0.88);
}

.title-password-row {
  display: grid;
  grid-template-columns: minmax(0, 1fr) auto;
  gap: 8px;
}

.title-password-input {
  width: 100%;
  appearance: none;
  border: 1px solid rgba(255, 224, 163, 0.5);
  border-radius: 11px;
  padding: 10px 12px;
  font-size: 0.92rem;
  color: #fff6e2;
  background: rgba(13, 12, 18, 0.86);
  font-family: "Hiragino Mincho ProN", "Yu Mincho", serif;
}

.title-password-input:focus {
  outline: none;
  border-color: rgba(255, 229, 179, 0.94);
  box-shadow: 0 0 0 2px rgba(255, 224, 163, 0.2);
}

.title-password-submit-btn,
.title-password-back-btn {
  appearance: none;
  border: 1px solid rgba(255, 224, 163, 0.66);
  border-radius: 11px;
  padding: 10px 12px;
  background: linear-gradient(148deg, rgba(62, 42, 17, 0.88), rgba(132, 95, 43, 0.84));
  color: #fff2d9;
  font-family: "Hiragino Mincho ProN", "Yu Mincho", serif;
  font-weight: 700;
  letter-spacing: 0.02em;
  cursor: pointer;
  transition: transform 0.14s ease, filter 0.14s ease;
}

.title-settings-back-btn,
.title-arena-back-btn {
  appearance: none;
  border: 1px solid rgba(255, 224, 163, 0.66);
  border-radius: 11px;
  padding: 10px 12px;
  background: linear-gradient(148deg, rgba(62, 42, 17, 0.88), rgba(132, 95, 43, 0.84));
  color: #fff2d9;
  font-family: "Hiragino Mincho ProN", "Yu Mincho", serif;
  font-weight: 700;
  letter-spacing: 0.02em;
  cursor: pointer;
  transition: transform 0.14s ease, filter 0.14s ease;
  margin-top: 10px;
  width: 100%;
}

.title-password-submit-btn:hover,
.title-password-back-btn:hover {
  transform: translateY(-1px);
  filter: brightness(1.08);
}

.title-settings-back-btn:hover {
  transform: translateY(-1px);
  filter: brightness(1.08);
}

.title-arena-back-btn:hover {
  transform: translateY(-1px);
  filter: brightness(1.08);
}

.title-password-note {
  margin: 9px 0 0;
  min-height: 1.2em;
  font-size: 0.76rem;
  color: rgba(240, 230, 205, 0.92);
}

.title-arena-note {
  margin: 9px 0 0;
  min-height: 1.2em;
  font-size: 0.76rem;
  color: rgba(240, 230, 205, 0.92);
}

.title-password-note.is-error {
  color: #ffbdb6;
}

.title-password-note.is-success {
  color: #ffe7a4;
}

.title-summon-node {
  margin-top: 11px;
  display: flex;
  justify-content: center;
}

.title-summon-card {
  width: min(76vw, 246px);
  aspect-ratio: 3 / 5;
  border: 1px solid rgba(255, 226, 170, 0.76);
  border-radius: 18px;
  padding: 11px 10px 10px;
  background:
    radial-gradient(circle at 50% 16%, rgba(255, 227, 156, 0.24), rgba(255, 227, 156, 0) 55%),
    linear-gradient(168deg, rgba(16, 13, 22, 0.94), rgba(42, 27, 12, 0.9));
  box-shadow:
    inset 0 0 0 1px rgba(255, 240, 208, 0.22),
    0 18px 38px rgba(0, 0, 0, 0.46),
    0 0 24px rgba(255, 205, 105, 0.18);
  display: grid;
  grid-template-rows: auto auto auto auto 1fr;
  gap: 7px;
  animation: floatCard 3.2s ease-in-out infinite;
}

.title-summon-badge {
  margin: 0;
  width: fit-content;
  padding: 2px 9px;
  border-radius: 999px;
  border: 1px solid rgba(255, 227, 156, 0.74);
  background: linear-gradient(148deg, rgba(121, 86, 28, 0.72), rgba(206, 160, 73, 0.62));
  color: #fff5d6;
  font-size: 0.72rem;
  letter-spacing: 0.08em;
  font-weight: 700;
}

.title-summon-art {
  border-radius: 12px;
  overflow: hidden;
  border: 1px solid rgba(255, 230, 178, 0.46);
  background: rgba(14, 12, 18, 0.85);
}

.title-summon-art img {
  display: block;
  width: 100%;
  aspect-ratio: 3 / 4;
  object-fit: cover;
  object-position: center top;
}

.title-summon-name {
  margin: 0;
  font-size: 1.02rem;
  letter-spacing: 0.03em;
  color: #fff2cc;
}

.title-summon-meta {
  margin: -1px 0 0;
  font-size: 0.72rem;
  color: rgba(239, 224, 190, 0.9);
}

.title-summon-stats {
  margin: 0;
  display: grid;
  grid-template-columns: repeat(2, minmax(0, 1fr));
  gap: 5px 7px;
}

.title-summon-stats div {
  display: flex;
  justify-content: space-between;
  align-items: baseline;
  padding: 4px 5px;
  border-radius: 8px;
  background: rgba(13, 11, 18, 0.6);
  border: 1px solid rgba(255, 232, 190, 0.14);
  font-size: 0.66rem;
  color: rgba(241, 229, 199, 0.92);
}

.title-summon-stats dt {
  letter-spacing: 0.08em;
}

.title-summon-stats dd {
  margin: 0;
  font-size: 0.82rem;
  font-weight: 700;
  color: #fff4da;
}

.title-password-back-btn {
  margin-top: 10px;
  width: 100%;
}

@keyframes shimmer {
  0% {
    transform: translate3d(-1%, 0, 0) scale(1);
    opacity: 0.3;
  }
  35% {
    transform: translate3d(1.6%, -1.4%, 0) scale(1.04);
    opacity: 0.5;
  }
  68% {
    transform: translate3d(-1.3%, 1.8%, 0) scale(1.02);
    opacity: 0.42;
  }
  100% {
    transform: translate3d(1%, 0.9%, 0) scale(1.06);
    opacity: 0.56;
  }
}

@keyframes divineGoldDrift {
  0% {
    background-position: 0% 46%;
    transform: translate3d(-3%, -2%, 0) scale(1) rotate(-1deg);
  }
  25% {
    background-position: 100% 36%;
    transform: translate3d(2%, 3%, 0) scale(1.1) rotate(1.2deg);
  }
  50% {
    background-position: 18% 84%;
    transform: translate3d(-4%, 2%, 0) scale(1.15) rotate(-0.7deg);
  }
  75% {
    background-position: 94% 18%;
    transform: translate3d(3%, -3%, 0) scale(1.09) rotate(1.4deg);
  }
  100% {
    background-position: 0% 46%;
    transform: translate3d(-3%, -2%, 0) scale(1) rotate(-1deg);
  }
}

@keyframes crimsonAbyssDrift {
  0% {
    background-position: 0% 50%;
    transform: translate3d(-3%, 2%, 0) scale(1.01) rotate(-0.7deg);
  }
  25% {
    background-position: 100% 22%;
    transform: translate3d(3%, -2%, 0) scale(1.11) rotate(1.1deg);
  }
  50% {
    background-position: 18% 84%;
    transform: translate3d(-2%, 3%, 0) scale(1.16) rotate(-1deg);
  }
  75% {
    background-position: 92% 18%;
    transform: translate3d(4%, -3%, 0) scale(1.08) rotate(1.2deg);
  }
  100% {
    background-position: 0% 50%;
    transform: translate3d(-3%, 2%, 0) scale(1.01) rotate(-0.7deg);
  }
}

@keyframes crimsonMistPulse {
  0% {
    opacity: 0.66;
    transform: scale(1);
  }
  30% {
    opacity: 0.98;
    transform: scale(1.06);
  }
  52% {
    opacity: 0.72;
    transform: scale(1.01);
  }
  74% {
    opacity: 1;
    transform: scale(1.08);
  }
  100% {
    opacity: 0.68;
    transform: scale(1);
  }
}

@keyframes ivoryPrismDrift {
  0% {
    background-position: 0% 50%;
    transform: translate3d(-3%, 2%, 0) scale(1) rotate(-0.6deg);
  }
  25% {
    background-position: 100% 22%;
    transform: translate3d(3%, -2%, 0) scale(1.09) rotate(1deg);
  }
  50% {
    background-position: 18% 86%;
    transform: translate3d(-2%, 3%, 0) scale(1.14) rotate(-0.9deg);
  }
  75% {
    background-position: 94% 18%;
    transform: translate3d(4%, -3%, 0) scale(1.07) rotate(1.2deg);
  }
  100% {
    background-position: 0% 50%;
    transform: translate3d(-3%, 2%, 0) scale(1) rotate(-0.6deg);
  }
}

@keyframes ivoryMistPulse {
  0% {
    opacity: 0.7;
    transform: scale(1);
  }
  30% {
    opacity: 1;
    transform: scale(1.06);
  }
  52% {
    opacity: 0.76;
    transform: scale(1.01);
  }
  74% {
    opacity: 0.98;
    transform: scale(1.08);
  }
  100% {
    opacity: 0.72;
    transform: scale(1);
  }
}

@keyframes violetNebulaDrift {
  0% {
    background-position: 0% 50%;
    transform: translate3d(-3%, 2%, 0) scale(1) rotate(-0.8deg);
  }
  25% {
    background-position: 100% 24%;
    transform: translate3d(3%, -2%, 0) scale(1.1) rotate(1.1deg);
  }
  50% {
    background-position: 18% 84%;
    transform: translate3d(-2%, 3%, 0) scale(1.15) rotate(-1deg);
  }
  75% {
    background-position: 92% 18%;
    transform: translate3d(4%, -3%, 0) scale(1.08) rotate(1.3deg);
  }
  100% {
    background-position: 0% 50%;
    transform: translate3d(-3%, 2%, 0) scale(1) rotate(-0.8deg);
  }
}

@keyframes violetAuraPulse {
  0% {
    opacity: 0.66;
    transform: scale(1);
  }
  30% {
    opacity: 0.98;
    transform: scale(1.06);
  }
  52% {
    opacity: 0.72;
    transform: scale(1.01);
  }
  74% {
    opacity: 1;
    transform: scale(1.08);
  }
  100% {
    opacity: 0.68;
    transform: scale(1);
  }
}

@keyframes divineOverlayPulse {
  0% {
    opacity: 0.68;
    transform: scale(1);
  }
  30% {
    opacity: 1;
    transform: scale(1.06);
  }
  50% {
    opacity: 0.74;
    transform: scale(1.01);
  }
  72% {
    opacity: 1;
    transform: scale(1.08);
  }
  100% {
    opacity: 0.7;
    transform: scale(1);
  }
}

@keyframes monochromeNodeFlow {
  0% {
    background-position: 0% 42%;
    filter: brightness(0.92) contrast(1.08);
  }
  50% {
    background-position: 100% 58%;
    filter: brightness(1.08) contrast(1.22);
  }
  100% {
    background-position: 0% 42%;
    filter: brightness(0.92) contrast(1.08);
  }
}

@keyframes rainbowNodeBorderGlow {
  0% {
    border-color: #ff0000;
    box-shadow:
      0 0 0 1px rgba(255, 0, 0, 0.78),
      0 0 14px rgba(255, 0, 0, 0.44);
  }
  17% {
    border-color: #ff7a00;
    box-shadow:
      0 0 0 1px rgba(255, 122, 0, 0.78),
      0 0 14px rgba(255, 122, 0, 0.44);
  }
  34% {
    border-color: #ffea00;
    box-shadow:
      0 0 0 1px rgba(255, 234, 0, 0.8),
      0 0 14px rgba(255, 234, 0, 0.46);
  }
  51% {
    border-color: #00ff57;
    box-shadow:
      0 0 0 1px rgba(0, 255, 87, 0.78),
      0 0 14px rgba(0, 255, 87, 0.44);
  }
  68% {
    border-color: #00d9ff;
    box-shadow:
      0 0 0 1px rgba(0, 217, 255, 0.78),
      0 0 14px rgba(0, 217, 255, 0.44);
  }
  85% {
    border-color: #7b00ff;
    box-shadow:
      0 0 0 1px rgba(123, 0, 255, 0.78),
      0 0 14px rgba(123, 0, 255, 0.44);
  }
  100% {
    border-color: #ff0000;
    box-shadow:
      0 0 0 1px rgba(255, 0, 0, 0.78),
      0 0 14px rgba(255, 0, 0, 0.44);
  }
}

@keyframes fadeUp {
  from {
    opacity: 0;
    transform: translateY(8px) scale(0.985);
  }
  to {
    opacity: 1;
    transform: translateY(0) scale(1);
  }
}

@keyframes titleStartFlash {
  0% {
    opacity: 0;
    transform: scale(0.88);
  }
  65% {
    opacity: 0.82;
    transform: scale(1.06);
  }
  100% {
    opacity: 0.14;
    transform: scale(1.18);
  }
}

@keyframes titleStartArtBloom {
  0% {
    filter: brightness(1) saturate(1);
  }
  70% {
    filter: brightness(1.26) saturate(1.07);
  }
  100% {
    filter: brightness(1.38) saturate(1.12);
  }
}

@keyframes titleStartOverlayBloom {
  0% {
    opacity: 1;
  }
  70% {
    opacity: 0.36;
  }
  100% {
    opacity: 0.18;
  }
}

@keyframes titleStartContentBloom {
  0% {
    transform: translateX(-50%) scale(1);
    filter: brightness(1);
  }
  70% {
    transform: translateX(-50%) scale(1.02);
    filter: brightness(1.2);
  }
  100% {
    transform: translateX(-50%) scale(1.035);
    filter: brightness(1.35);
  }
}

@keyframes floatCard {
  0% {
    transform: translateY(0);
  }
  50% {
    transform: translateY(-8px);
  }
  100% {
    transform: translateY(0);
  }
}

@keyframes attackCardFly {
  0% {
    opacity: 0.94;
    transform: translate(-50%, -50%) scale(0.9);
    filter: brightness(1);
  }
  35% {
    opacity: 1;
    transform: translate(calc(-50% + var(--fx-dx) * 0.35), calc(-50% + var(--fx-dy) * 0.35 - 62px)) scale(1.22);
    filter: brightness(1.22);
  }
  75% {
    opacity: 1;
    transform: translate(calc(-50% + var(--fx-dx) * 0.78), calc(-50% + var(--fx-dy) * 0.78 - 18px)) scale(1.06);
    filter: brightness(1.28);
  }
  100% {
    opacity: 0;
    transform: translate(calc(-50% + var(--fx-dx)), calc(-50% + var(--fx-dy))) scale(0.42);
    filter: brightness(1.46);
  }
}

@keyframes magicCasterPulse {
  0% {
    opacity: 0;
    transform: translate(-50%, -50%) scale(0.84);
    filter: brightness(1);
  }
  28% {
    opacity: 1;
    transform: translate(-50%, -50%) scale(1.1);
    filter: brightness(1.28);
  }
  62% {
    opacity: 1;
    transform: translate(-50%, -50%) scale(1.16);
    filter: brightness(1.45);
  }
  100% {
    opacity: 0;
    transform: translate(-50%, -50%) scale(1.02);
    filter: brightness(1.12);
  }
}

@keyframes magicBeamShoot {
  0% {
    opacity: 0;
    transform: translate(0, -50%) rotate(var(--fx-angle)) scaleX(0.08);
    filter: blur(4px) brightness(1.1);
  }
  20% {
    opacity: 1;
    transform: translate(0, -50%) rotate(var(--fx-angle)) scaleX(1);
    filter: blur(1px) brightness(1.35);
  }
  74% {
    opacity: 1;
    transform: translate(0, -50%) rotate(var(--fx-angle)) scaleX(1.05);
    filter: blur(0.8px) brightness(1.26);
  }
  100% {
    opacity: 0;
    transform: translate(0, -50%) rotate(var(--fx-angle)) scaleX(1.1);
    filter: blur(2px) brightness(1.1);
  }
}

@keyframes magicChantFloat {
  0% {
    opacity: 0;
    transform: translate(-50%, -50%) scale(0.9);
    filter: brightness(1);
  }
  30% {
    opacity: 1;
    transform: translate(-50%, -57%) scale(1.05);
    filter: brightness(1.24);
  }
  72% {
    opacity: 1;
    transform: translate(-50%, -60%) scale(1.1);
    filter: brightness(1.42);
  }
  100% {
    opacity: 0;
    transform: translate(-50%, -66%) scale(1.14);
    filter: brightness(1.18);
  }
}

@keyframes magicChantAuraPulse {
  0% {
    opacity: 0;
    transform: translate(-50%, -50%) scale(0.38);
  }
  35% {
    opacity: 1;
    transform: translate(-50%, -50%) scale(0.96);
  }
  75% {
    opacity: 0.9;
    transform: translate(-50%, -50%) scale(1.22);
  }
  100% {
    opacity: 0;
    transform: translate(-50%, -50%) scale(1.54);
  }
}

@keyframes ancientGlyphAppear {
  0% {
    opacity: 0;
    transform: translate(-50%, -50%) scale(0.84);
    filter: brightness(0.88) saturate(1.05) hue-rotate(0deg);
  }
  14% {
    opacity: 0.76;
    transform: translate(-50%, -50%) scale(0.93);
    filter: brightness(1.02) saturate(1.22) hue-rotate(52deg);
  }
  28% {
    opacity: 0.97;
    transform: translate(-50%, -50%) scale(0.99);
    filter: brightness(1.11) saturate(1.32) hue-rotate(104deg);
  }
  42% {
    opacity: 0.95;
    transform: translate(-50%, -50%) scale(1.01);
    filter: brightness(1.15) saturate(1.36) hue-rotate(156deg);
  }
  56% {
    opacity: 0.93;
    transform: translate(-50%, -50%) scale(1.02);
    filter: brightness(1.19) saturate(1.4) hue-rotate(208deg);
  }
  70% {
    opacity: 0.9;
    transform: translate(-50%, -50%) scale(1.03);
    filter: brightness(1.2) saturate(1.42) hue-rotate(260deg);
  }
  84% {
    opacity: 0.85;
    transform: translate(-50%, -50%) scale(1.05);
    filter: brightness(1.14) saturate(1.34) hue-rotate(312deg);
  }
  100% {
    opacity: 0;
    transform: translate(-50%, -50%) scale(1.08);
    filter: brightness(1.02) saturate(1.22) hue-rotate(360deg);
  }
}

@keyframes ancientRuneWheelSpin {
  0% {
    transform: rotate(0deg);
  }
  100% {
    transform: rotate(120deg);
  }
}

@keyframes ancientCommentReveal {
  0% {
    opacity: 0;
    transform: translate(-50%, 10px) scale(0.9);
    letter-spacing: 0.04em;
  }
  24% {
    opacity: 0;
    transform: translate(-50%, 10px) scale(0.92);
    letter-spacing: 0.05em;
  }
  44% {
    opacity: 1;
    transform: translate(-50%, -2px) scale(1);
    letter-spacing: 0.08em;
  }
  82% {
    opacity: 1;
    transform: translate(-50%, -2px) scale(1);
    letter-spacing: 0.08em;
  }
  100% {
    opacity: 0;
    transform: translate(-50%, -10px) scale(1.04);
    letter-spacing: 0.1em;
  }
}

@keyframes spellbladeGlyphAppear {
  0% {
    opacity: 0;
    transform: translate(-50%, -50%) scale(0.9);
    filter: brightness(0.86) saturate(1.02);
  }
  12% {
    opacity: 1;
    transform: translate(-50%, -50%) scale(0.95);
    filter: brightness(1.05) saturate(1.14);
  }
  28% {
    transform: translate(-50%, -50%) scale(1);
    filter: brightness(1.13) saturate(1.24);
  }
  82% {
    opacity: 1;
    transform: translate(-50%, -50%) scale(1.02);
    filter: brightness(1.18) saturate(1.32);
  }
  100% {
    opacity: 0;
    transform: translate(-50%, -50%) scale(1.06);
    filter: brightness(1.04) saturate(1.18);
  }
}

@keyframes spellbladeAuraPulse {
  0% {
    transform: scale(0.96);
    opacity: 0.58;
  }
  50% {
    transform: scale(1.01);
    opacity: 1;
  }
  100% {
    transform: scale(0.96);
    opacity: 0.58;
  }
}

@keyframes spellbladeEmblemSpin {
  0% {
    transform: rotate(-10deg) scale(0.96);
    filter:
      drop-shadow(0 0 8px rgba(255, 170, 231, 0.44))
      drop-shadow(0 0 18px rgba(130, 205, 255, 0.28));
  }
  22% {
    transform: rotate(5deg) scale(1.02);
  }
  58% {
    transform: rotate(-3deg) scale(1.01);
  }
  100% {
    transform: rotate(0deg) scale(1);
    filter:
      drop-shadow(0 0 18px rgba(255, 150, 220, 0.46))
      drop-shadow(0 0 42px rgba(123, 193, 255, 0.34));
  }
}

@keyframes spellbladeHexScatterOuter2 {
  0% {
    transform: translate(0, 0) scale(1) rotate(0deg);
    opacity: 0.42;
  }
  100% {
    transform: translate(-72px, -24px) scale(1.24) rotate(-14deg);
    opacity: 0.14;
  }
}

@keyframes spellbladeHexScatterOuter {
  0% {
    transform: translate(0, 0) scale(1) rotate(0deg);
    opacity: 0.6;
  }
  100% {
    transform: translate(62px, 18px) scale(1.18) rotate(11deg);
    opacity: 0.18;
  }
}

@keyframes spellbladeHexCoreExpand {
  0% {
    transform: translate(0, 0) scale(1) rotate(0deg);
    opacity: 0.82;
  }
  45% {
    transform: translate(0, 0) scale(1.16) rotate(2deg);
    opacity: 0.94;
  }
  100% {
    transform: translate(0, 0) scale(1.36) rotate(0deg);
    opacity: 1;
  }
}

@keyframes spellbladeValleyPackDrift {
  0% {
    transform: translate(0, 0) scale(1);
  }
  100% {
    transform: translate(-8px, -6px) scale(1.05);
  }
}

@keyframes spellbladeValleyPackDriftOrbit {
  0% {
    transform: translate(0, 0) scale(1);
  }
  100% {
    transform: translate(10px, 8px) scale(1.08);
  }
}

@keyframes spellbladeValleyScatter {
  0% {
    transform: translate(0, 0) scale(1) rotate(0deg);
    opacity: 0.98;
  }
  60% {
    opacity: 0.9;
  }
  100% {
    transform: translate(var(--dx, 0), var(--dy, 0)) scale(1.3) rotate(var(--rot, 0deg));
    opacity: 0.16;
  }
}

@keyframes spellbladeRuneWheelOuter {
  0% {
    transform: rotate(0deg);
  }
  100% {
    transform: rotate(160deg);
  }
}

@keyframes spellbladeRuneWheelInner {
  0% {
    transform: rotate(0deg);
  }
  100% {
    transform: rotate(-140deg);
  }
}

@keyframes spellbladeSwordLaunchA {
  0% {
    transform: rotate(-34deg) translate(0, 0) scale(1);
    opacity: 1;
  }
  20% {
    transform: rotate(-34deg) translate(-26px, -30px) scale(1.02);
    opacity: 1;
  }
  100% {
    transform: rotate(-34deg) translate(-260px, -290px) scale(1.08);
    opacity: 0.06;
  }
}

@keyframes spellbladeSwordLaunchB {
  0% {
    transform: rotate(34deg) translate(0, 0) scale(1);
    opacity: 1;
  }
  20% {
    transform: rotate(34deg) translate(26px, -30px) scale(1.02);
    opacity: 1;
  }
  100% {
    transform: rotate(34deg) translate(260px, -290px) scale(1.08);
    opacity: 0.06;
  }
}

@keyframes spellbladeRayBlink {
  0%,
  100% {
    opacity: 0.35;
  }
  45% {
    opacity: 1;
  }
}

@keyframes spellbladeCrossWave {
  0% {
    transform: scale(0.46);
    opacity: 0;
  }
  24% {
    opacity: 0.86;
  }
  100% {
    transform: scale(1.24);
    opacity: 0;
  }
}

@keyframes lifeBurstCinematicAppear {
  0% {
    opacity: 0;
    transform: scale(0.92);
    filter: brightness(0.8) saturate(0.9);
  }
  100% {
    opacity: 1;
    transform: scale(1);
    filter: brightness(1.08) saturate(1.16);
  }
}

@keyframes lifeBurstAuraPulse {
  0% {
    transform: translate(-50%, -50%) scale(0.9);
    opacity: 0.42;
  }
  50% {
    transform: translate(-50%, -50%) scale(1.04);
    opacity: 0.9;
  }
  100% {
    transform: translate(-50%, -50%) scale(1.12);
    opacity: 0.34;
  }
}

@keyframes lifeBurstEmberFlow {
  0% {
    transform: translate(-50%, -50%) rotate(0deg) scale(1);
    opacity: 0.52;
  }
  50% {
    opacity: 0.84;
  }
  100% {
    transform: translate(-50%, -50%) rotate(16deg) scale(1.1);
    opacity: 0.46;
  }
}

@keyframes lifeBurstTitleShine {
  0% {
    filter: brightness(1) saturate(1);
    letter-spacing: 0.18em;
  }
  100% {
    filter: brightness(1.26) saturate(1.14);
    letter-spacing: 0.21em;
  }
}

@keyframes lifeBurstHintPulse {
  0%,
  100% {
    opacity: 0.52;
    transform: translate(-50%, 0);
  }
  50% {
    opacity: 1;
    transform: translate(-50%, -3px);
  }
}

@keyframes attackBurstPulse {
  0% {
    opacity: 0;
    transform: translate(-50%, -50%) scale(0.05);
  }
  22% {
    opacity: 1;
    transform: translate(-50%, -50%) scale(0.92);
  }
  60% {
    opacity: 0.88;
    transform: translate(-50%, -50%) scale(1.32);
  }
  100% {
    opacity: 0;
    transform: translate(-50%, -50%) scale(2.05);
  }
}

@keyframes damagePopRise {
  0% {
    opacity: 0;
    transform: translate(-50%, -35%) scale(0.4);
  }
  20% {
    opacity: 1;
    transform: translate(-50%, -58%) scale(1.2);
  }
  62% {
    opacity: 1;
    transform: translate(-50%, -86%) scale(1.14);
  }
  100% {
    opacity: 0;
    transform: translate(-50%, -170%) scale(0.98);
  }
}

@keyframes damagePopUnderEnemy {
  0% {
    opacity: 0;
    transform: translate(-50%, 8%) scale(0.4);
  }
  20% {
    opacity: 1;
    transform: translate(-50%, -8%) scale(1.18);
  }
  62% {
    opacity: 1;
    transform: translate(-50%, -22%) scale(1.12);
  }
  100% {
    opacity: 0;
    transform: translate(-50%, -48%) scale(0.98);
  }
}

@keyframes preAttackPanelIn {
  0% {
    opacity: 0;
    transform: translate(-50%, -50%) scale(0.82);
    filter: blur(1px);
  }
  100% {
    opacity: 1;
    transform: translate(-50%, -50%) scale(1);
    filter: blur(0);
  }
}

@keyframes enemyHitFlash {
  0% {
    transform: translate(0, 0) scale(1);
    filter: brightness(1);
  }
  30% {
    transform: translate(-2px, 0) scale(1.01);
    filter: brightness(1.45);
  }
  65% {
    transform: translate(2px, 1px) scale(1.01);
    filter: brightness(1.22);
  }
  100% {
    transform: translate(0, 0) scale(1);
    filter: brightness(1);
  }
}

@keyframes criticalFlash {
  0% {
    transform: translate(0, 0) scale(1);
    filter: brightness(1);
    box-shadow: 0 0 0 rgba(255, 239, 181, 0);
  }
  25% {
    transform: translate(-2px, -1px) scale(1.02);
    filter: brightness(1.62) saturate(1.15);
    box-shadow: 0 0 28px rgba(255, 236, 171, 0.56);
  }
  62% {
    transform: translate(2px, 1px) scale(1.01);
    filter: brightness(1.3);
    box-shadow: 0 0 18px rgba(255, 219, 141, 0.32);
  }
  100% {
    transform: translate(0, 0) scale(1);
    filter: brightness(1);
    box-shadow: 0 0 0 rgba(255, 239, 181, 0);
  }
}

@keyframes guardCriticalFlash {
  0% {
    transform: translate(0, 0) scale(1);
    filter: brightness(1);
    box-shadow: 0 0 0 rgba(182, 230, 255, 0);
  }
  30% {
    transform: translate(0, -1px) scale(1.02);
    filter: brightness(1.52);
    box-shadow: 0 0 26px rgba(184, 236, 255, 0.52);
  }
  68% {
    transform: translate(0, 1px) scale(1.01);
    filter: brightness(1.26);
    box-shadow: 0 0 16px rgba(157, 218, 255, 0.3);
  }
  100% {
    transform: translate(0, 0) scale(1);
    filter: brightness(1);
    box-shadow: 0 0 0 rgba(182, 230, 255, 0);
  }
}

@keyframes lancelatePreemptiveGlow {
  0% {
    opacity: 0;
    transform: translate(-50%, -50%) scale(0.86);
    filter: blur(4px);
  }
  22% {
    opacity: 1;
    transform: translate(-50%, -50%) scale(1);
    filter: blur(0);
  }
  72% {
    opacity: 0.94;
    transform: translate(-50%, -50%) scale(1.06);
  }
  100% {
    opacity: 0.08;
    transform: translate(-50%, -50%) scale(1.16);
    filter: blur(1px);
  }
}

@keyframes lancelatePreemptiveHover {
  0% {
    opacity: 0;
    transform: translate(-50%, -50%) translateY(12px) scale(0.88);
    filter: brightness(1) saturate(1);
  }
  26% {
    opacity: 1;
    transform: translate(-50%, -50%) translateY(0) scale(1);
    filter: brightness(1.14) saturate(1.08);
  }
  52% {
    transform: translate(-50%, -50%) translateY(-11px) scale(1.03);
    filter: brightness(1.22) saturate(1.12);
  }
  78% {
    transform: translate(-50%, -50%) translateY(-4px) scale(1.01);
    filter: brightness(1.16) saturate(1.08);
  }
  100% {
    opacity: 0.18;
    transform: translate(-50%, -50%) translateY(-16px) scale(1.04);
    filter: brightness(1.08) saturate(1.04);
  }
}

@keyframes lancelatePreemptiveHaloSpin {
  0% {
    opacity: 0;
    transform: translate(-50%, -50%) rotate(0deg) scale(0.86);
  }
  22% {
    opacity: 0.9;
    transform: translate(-50%, -50%) rotate(44deg) scale(1);
  }
  100% {
    opacity: 0.14;
    transform: translate(-50%, -50%) rotate(230deg) scale(1.12);
  }
}

@keyframes lancelatePreemptiveFieldPulse {
  0% {
    opacity: 0;
    transform: translate(-50%, -50%) scale(0.8);
    filter: blur(8px);
  }
  18% {
    opacity: 0.9;
    transform: translate(-50%, -50%) scale(1);
    filter: blur(2px);
  }
  60% {
    opacity: 0.76;
    transform: translate(-50%, -50%) scale(1.1);
    filter: blur(1px);
  }
  100% {
    opacity: 0;
    transform: translate(-50%, -50%) scale(1.24);
    filter: blur(4px);
  }
}

@keyframes lancelateCardAuraPulse {
  0% {
    filter: brightness(1.06) saturate(1.08);
    box-shadow:
      0 12px 26px rgba(0, 0, 0, 0.44),
      0 0 28px rgba(255, 233, 160, 0.72),
      0 0 48px rgba(255, 247, 216, 0.5);
  }
  50% {
    filter: brightness(1.28) saturate(1.16);
    box-shadow:
      0 14px 30px rgba(0, 0, 0, 0.46),
      0 0 38px rgba(255, 241, 183, 0.84),
      0 0 66px rgba(255, 223, 132, 0.62);
  }
  100% {
    filter: brightness(1.1) saturate(1.1);
    box-shadow:
      0 12px 26px rgba(0, 0, 0, 0.44),
      0 0 30px rgba(255, 235, 166, 0.74),
      0 0 52px rgba(255, 249, 223, 0.52);
  }
}

@keyframes lancelateAttackAuraPulse {
  0% {
    filter: brightness(1.06) saturate(1.06);
    box-shadow:
      0 0 56px rgba(255, 224, 142, 0.52),
      0 0 24px rgba(255, 244, 206, 0.42),
      inset 0 0 24px rgba(255, 251, 230, 0.28);
  }
  50% {
    filter: brightness(1.24) saturate(1.14);
    box-shadow:
      0 0 76px rgba(255, 236, 177, 0.76),
      0 0 34px rgba(255, 214, 122, 0.62),
      inset 0 0 30px rgba(255, 252, 228, 0.44);
  }
  100% {
    filter: brightness(1.08) saturate(1.08);
    box-shadow:
      0 0 60px rgba(255, 226, 152, 0.56),
      0 0 26px rgba(255, 242, 198, 0.44),
      inset 0 0 26px rgba(255, 251, 228, 0.3);
  }
}

@keyframes lancelateAttackBeamPulse {
  0% {
    filter: brightness(1.08) saturate(1.08);
  }
  50% {
    filter: brightness(1.28) saturate(1.2);
  }
  100% {
    filter: brightness(1.1) saturate(1.1);
  }
}

@keyframes lancelateSlotAura {
  0% {
    transform: translate(0, 0) scale(1);
    filter: brightness(1);
    box-shadow: var(--shadow), 0 0 0 rgba(255, 234, 174, 0);
  }
  40% {
    transform: translate(0, -1px) scale(1.02);
    filter: brightness(1.36) saturate(1.12);
    box-shadow:
      var(--shadow),
      0 0 0 1px rgba(255, 250, 232, 0.78),
      0 0 28px rgba(255, 226, 145, 0.62),
      0 0 44px rgba(255, 244, 204, 0.46);
  }
  100% {
    transform: translate(0, 0) scale(1);
    filter: brightness(1);
    box-shadow: var(--shadow), 0 0 0 rgba(255, 234, 174, 0);
  }
}

@keyframes berserkerScreenShake {
  0% {
    transform: translate3d(0, 0, 0);
  }
  16% {
    transform: translate3d(-6px, 2px, 0);
  }
  28% {
    transform: translate3d(7px, -4px, 0);
  }
  44% {
    transform: translate3d(-5px, 3px, 0);
  }
  62% {
    transform: translate3d(4px, -2px, 0);
  }
  78% {
    transform: translate3d(-2px, 1px, 0);
  }
  100% {
    transform: translate3d(0, 0, 0);
  }
}

@keyframes berserkerRageHover {
  0% {
    opacity: 0;
    transform: translate(-50%, -50%) translateY(16px) scale(0.86);
    filter: brightness(1) saturate(1);
  }
  24% {
    opacity: 1;
    transform: translate(-50%, -50%) translateY(0) scale(1.06);
    filter: brightness(1.24) saturate(1.14);
  }
  56% {
    opacity: 1;
    transform: translate(-50%, -50%) translateY(-18px) scale(1.18);
    filter: brightness(1.34) saturate(1.22);
  }
  100% {
    opacity: 0.18;
    transform: translate(-50%, -50%) translateY(-28px) scale(1.22);
    filter: brightness(1.08) saturate(1.1);
  }
}

@keyframes berserkerRageAuraPulse {
  0% {
    opacity: 0;
    transform: translate(-50%, -50%) scale(0.72);
  }
  24% {
    opacity: 0.94;
    transform: translate(-50%, -50%) scale(1);
  }
  68% {
    opacity: 0.88;
    transform: translate(-50%, -50%) scale(1.12);
  }
  100% {
    opacity: 0;
    transform: translate(-50%, -50%) scale(1.34);
  }
}

@keyframes berserkerRageFlareSpin {
  0% {
    opacity: 0;
    transform: translate(-50%, -50%) rotate(-14deg) scale(0.84);
  }
  20% {
    opacity: 0.9;
    transform: translate(-50%, -50%) rotate(6deg) scale(1);
  }
  100% {
    opacity: 0.14;
    transform: translate(-50%, -50%) rotate(184deg) scale(1.2);
  }
}

@keyframes berserkerRageSlotAura {
  0% {
    transform: translate(0, 0) scale(1);
    filter: brightness(1);
    box-shadow: var(--shadow), 0 0 0 rgba(255, 88, 88, 0);
  }
  38% {
    transform: translate(0, -2px) scale(1.03);
    filter: brightness(1.42) saturate(1.22);
    box-shadow:
      var(--shadow),
      0 0 0 1px rgba(255, 189, 189, 0.82),
      0 0 30px rgba(255, 103, 103, 0.66),
      0 0 56px rgba(255, 76, 76, 0.48);
  }
  100% {
    transform: translate(0, 0) scale(1);
    filter: brightness(1);
    box-shadow: var(--shadow), 0 0 0 rgba(255, 88, 88, 0);
  }
}

@keyframes lunaStarWisdomAuraPulse {
  0% {
    opacity: 0;
    transform: translate(-50%, -50%) scale(0.78);
    filter: blur(4px);
  }
  22% {
    opacity: 0.95;
    transform: translate(-50%, -50%) scale(1);
    filter: blur(0.5px);
  }
  74% {
    opacity: 0.78;
    transform: translate(-50%, -50%) scale(1.12);
  }
  100% {
    opacity: 0;
    transform: translate(-50%, -50%) scale(1.3);
    filter: blur(3px);
  }
}

@keyframes lunaStarWisdomRingSpin {
  0% {
    opacity: 0;
    transform: translate(-50%, -50%) rotate(0deg) scale(0.84);
  }
  18% {
    opacity: 0.9;
    transform: translate(-50%, -50%) rotate(18deg) scale(1);
  }
  100% {
    opacity: 0.08;
    transform: translate(-50%, -50%) rotate(220deg) scale(1.22);
  }
}

@keyframes lunaStarWisdomSparkBurst {
  0% {
    opacity: 0;
    transform: translate(-50%, -50%) rotate(var(--spark-angle, 0deg)) translateX(0) scale(0.52);
    filter: brightness(1);
  }
  16% {
    opacity: 1;
    transform: translate(-50%, -50%) rotate(var(--spark-angle, 0deg)) translateX(calc(var(--spark-distance, 72px) * 0.44)) scale(1);
    filter: brightness(1.24);
  }
  100% {
    opacity: 0;
    transform: translate(-50%, -50%) rotate(var(--spark-angle, 0deg)) translateX(var(--spark-distance, 72px)) scale(0.34);
    filter: brightness(1.08);
  }
}

@keyframes lunaStarWisdomCardFloat {
  0% {
    opacity: 0;
    transform: translate(-50%, -50%) translateY(8px) scale(0.88);
    filter: brightness(1) saturate(1);
  }
  30% {
    opacity: 1;
    transform: translate(-50%, -50%) translateY(-2px) scale(1);
    filter: brightness(1.16) saturate(1.12);
  }
  72% {
    opacity: 0.9;
    transform: translate(-50%, -50%) translateY(-11px) scale(1.04);
    filter: brightness(1.22) saturate(1.16);
  }
  100% {
    opacity: 0;
    transform: translate(-50%, -50%) translateY(-18px) scale(1.06);
    filter: brightness(1.06) saturate(1.08);
  }
}

@keyframes lunaStarWisdomSlotAura {
  0% {
    transform: translate(0, 0) scale(1);
    filter: brightness(1);
    box-shadow: var(--shadow), 0 0 0 rgba(198, 215, 255, 0);
  }
  36% {
    transform: translate(0, -1px) scale(1.02);
    filter: brightness(1.32) saturate(1.12);
    box-shadow:
      var(--shadow),
      0 0 0 1px rgba(232, 238, 255, 0.84),
      0 0 30px rgba(170, 189, 255, 0.68),
      0 0 58px rgba(242, 203, 255, 0.42);
  }
  100% {
    transform: translate(0, 0) scale(1);
    filter: brightness(1);
    box-shadow: var(--shadow), 0 0 0 rgba(198, 215, 255, 0);
  }
}

@keyframes gaiusLastStandAura {
  0% {
    transform: translate(0, 0) scale(1);
    filter: brightness(1);
    box-shadow:
      var(--shadow),
      0 0 0 rgba(255, 98, 98, 0);
  }
  34% {
    transform: translate(0, -2px) scale(1.04);
    filter: brightness(1.5) saturate(1.26);
    box-shadow:
      var(--shadow),
      0 0 0 1px rgba(255, 193, 193, 0.9),
      0 0 30px rgba(255, 98, 98, 0.74),
      0 0 58px rgba(255, 72, 72, 0.52);
  }
  100% {
    transform: translate(0, 0) scale(1);
    filter: brightness(1);
    box-shadow:
      var(--shadow),
      0 0 0 rgba(255, 98, 98, 0);
  }
}

@keyframes enchantLinkSourceFlash {
  0% {
    transform: translate(0, 0) scale(1);
    filter: brightness(1);
    box-shadow:
      var(--shadow),
      0 0 0 rgba(203, 233, 255, 0);
  }
  32% {
    transform: translate(0, -1px) scale(1.015);
    filter: brightness(1.38) saturate(1.12);
    box-shadow:
      var(--shadow),
      0 0 0 1px rgba(226, 245, 255, 0.8),
      0 0 24px rgba(161, 212, 255, 0.58);
  }
  100% {
    transform: translate(0, 0) scale(1);
    filter: brightness(1);
    box-shadow:
      var(--shadow),
      0 0 0 rgba(203, 233, 255, 0);
  }
}

@keyframes enchantLinkTargetFlash {
  0% {
    transform: translate(0, 0) scale(1);
    filter: brightness(1);
    box-shadow:
      var(--shadow),
      0 0 0 rgba(255, 241, 187, 0);
  }
  32% {
    transform: translate(0, -1px) scale(1.018);
    filter: brightness(1.42) saturate(1.1);
    box-shadow:
      var(--shadow),
      0 0 0 1px rgba(255, 244, 206, 0.9),
      0 0 28px rgba(255, 223, 143, 0.62);
  }
  100% {
    transform: translate(0, 0) scale(1);
    filter: brightness(1);
    box-shadow:
      var(--shadow),
      0 0 0 rgba(255, 241, 187, 0);
  }
}

@keyframes minstrelRelaySourceFlash {
  0% {
    transform: translate(0, 0) scale(1);
    filter: brightness(1);
    box-shadow:
      var(--shadow),
      0 0 0 rgba(170, 255, 206, 0);
  }
  36% {
    transform: translate(0, -2px) scale(1.02);
    filter: brightness(1.42) saturate(1.2);
    box-shadow:
      var(--shadow),
      0 0 0 1px rgba(208, 255, 228, 0.94),
      0 0 28px rgba(118, 242, 176, 0.72),
      0 0 52px rgba(104, 236, 170, 0.44);
  }
  100% {
    transform: translate(0, 0) scale(1);
    filter: brightness(1);
    box-shadow:
      var(--shadow),
      0 0 0 rgba(170, 255, 206, 0);
  }
}

@keyframes minstrelRelayTargetFlash {
  0% {
    transform: translate(0, 0) scale(1);
    filter: brightness(1);
    box-shadow:
      var(--shadow),
      0 0 0 rgba(179, 255, 214, 0);
  }
  32% {
    transform: translate(0, -1px) scale(1.018);
    filter: brightness(1.34) saturate(1.16);
    box-shadow:
      var(--shadow),
      0 0 0 1px rgba(228, 255, 240, 0.86),
      0 0 24px rgba(142, 246, 190, 0.6);
  }
  100% {
    transform: translate(0, 0) scale(1);
    filter: brightness(1);
    box-shadow:
      var(--shadow),
      0 0 0 rgba(179, 255, 214, 0);
  }
}

@keyframes enchantLinkNodeStrategist {
  0% {
    opacity: 0;
    transform: translate(-50%, -50%) scale(0.28);
    filter: blur(6px);
  }
  16% {
    opacity: 1;
    transform: translate(-50%, -50%) scale(1);
    filter: blur(0);
  }
  40% {
    opacity: 0.92;
    transform: translate(-50%, -50%) scale(1.08);
  }
  100% {
    opacity: 0.14;
    transform: translate(-50%, -50%) scale(1.22);
  }
}

@keyframes enchantLinkNodeAttacker {
  0%,
  30% {
    opacity: 0;
    transform: translate(-50%, -50%) scale(0.24);
    filter: blur(6px);
  }
  48% {
    opacity: 1;
    transform: translate(-50%, -50%) scale(0.98);
    filter: blur(0);
  }
  70% {
    opacity: 0.94;
    transform: translate(-50%, -50%) scale(1.07);
  }
  100% {
    opacity: 0.18;
    transform: translate(-50%, -50%) scale(1.24);
  }
}

@keyframes enchantLinkLineGrow {
  0%,
  40% {
    opacity: 0;
    transform: translateY(-50%) rotate(var(--enchant-line-angle, 0rad)) scaleX(0);
  }
  56% {
    opacity: 1;
    transform: translateY(-50%) rotate(var(--enchant-line-angle, 0rad)) scaleX(1);
  }
  100% {
    opacity: 0.2;
    transform: translateY(-50%) rotate(var(--enchant-line-angle, 0rad)) scaleX(1);
  }
}

@keyframes enchantLinkLineFlow {
  0% {
    background-position: 0 0;
  }
  100% {
    background-position: 160px 0;
  }
}

@keyframes enchantLinkSparkPulse {
  0%,
  55% {
    opacity: 0;
    transform: translate(-50%, -50%) scale(0.2);
    filter: blur(4px);
  }
  68% {
    opacity: 1;
    transform: translate(-50%, -50%) scale(1);
    filter: blur(0);
  }
  100% {
    opacity: 0;
    transform: translate(-50%, -50%) scale(1.38);
    filter: blur(2px);
  }
}

@keyframes barrierFieldPulse {
  0% {
    box-shadow:
      var(--shadow),
      0 0 0 rgba(255, 255, 255, 0);
    border-color: rgba(221, 229, 245, 0.26);
  }
  42% {
    box-shadow:
      var(--shadow),
      0 0 0 2px rgba(255, 255, 255, 0.88),
      0 0 26px rgba(255, 255, 255, 0.52),
      0 0 56px rgba(229, 241, 255, 0.36);
    border-color: rgba(255, 255, 255, 0.94);
  }
  100% {
    box-shadow:
      var(--shadow),
      0 0 0 rgba(255, 255, 255, 0);
    border-color: rgba(221, 229, 245, 0.26);
  }
}

@keyframes holyBarrierFieldPulse {
  0% {
    box-shadow:
      var(--shadow),
      0 0 0 rgba(255, 255, 255, 0);
    border-color: rgba(221, 229, 245, 0.26);
  }
  38% {
    box-shadow:
      var(--shadow),
      0 0 0 2px rgba(255, 255, 255, 0.96),
      0 0 34px rgba(255, 255, 255, 0.7),
      0 0 76px rgba(235, 248, 255, 0.5);
    border-color: rgba(255, 255, 255, 0.98);
  }
  100% {
    box-shadow:
      var(--shadow),
      0 0 0 rgba(255, 255, 255, 0);
    border-color: rgba(221, 229, 245, 0.26);
  }
}

@keyframes barrierDomainManifest {
  0% {
    opacity: 0;
    transform: translate(-50%, -50%) scale(0.82);
    filter: brightness(0.84) saturate(0.94);
  }
  18% {
    opacity: 1;
    transform: translate(-50%, -50%) scale(0.94);
    filter: brightness(1.04) saturate(1.08);
  }
  42% {
    opacity: 1;
    transform: translate(-50%, -50%) scale(1);
    filter: brightness(1.12) saturate(1.2);
  }
  82% {
    opacity: 1;
    transform: translate(-50%, -50%) scale(1.02);
    filter: brightness(1.16) saturate(1.28);
  }
  100% {
    opacity: 0;
    transform: translate(-50%, -50%) scale(1.08);
    filter: brightness(1) saturate(1.1);
  }
}

@keyframes barrierDomainGlowPulse {
  0% {
    opacity: 0.26;
    transform: scale(0.88);
  }
  35% {
    opacity: 0.82;
    transform: scale(1.01);
  }
  70% {
    opacity: 0.74;
    transform: scale(1.06);
  }
  100% {
    opacity: 0.22;
    transform: scale(1.1);
  }
}

@keyframes barrierDomainRingSpinCw {
  0% {
    transform: translate(-50%, -50%) rotate(0deg) scale(0.94);
    opacity: 0.46;
  }
  25% {
    opacity: 0.92;
  }
  100% {
    transform: translate(-50%, -50%) rotate(180deg) scale(1.04);
    opacity: 0.16;
  }
}

@keyframes barrierDomainRingSpinCcw {
  0% {
    transform: translate(-50%, -50%) rotate(0deg) scale(0.92);
    opacity: 0.38;
  }
  22% {
    opacity: 0.86;
  }
  100% {
    transform: translate(-50%, -50%) rotate(-160deg) scale(1.06);
    opacity: 0.14;
  }
}

@keyframes barrierDomainSigilPulse {
  0% {
    opacity: 0;
    transform: translate(-50%, -50%) scale(0.9);
  }
  20% {
    opacity: 0.96;
    transform: translate(-50%, -50%) scale(0.98);
  }
  70% {
    opacity: 0.9;
    transform: translate(-50%, -50%) scale(1.03);
  }
  100% {
    opacity: 0.22;
    transform: translate(-50%, -50%) scale(1.08);
  }
}

@keyframes barrierDomainLabelReveal {
  0% {
    opacity: 0;
    transform: translate(-50%, 0) scale(0.9);
    letter-spacing: 0.1em;
  }
  30% {
    opacity: 1;
    transform: translate(-50%, -4px) scale(1.02);
    letter-spacing: 0.14em;
  }
  70% {
    opacity: 1;
    transform: translate(-50%, -4px) scale(1.02);
    letter-spacing: 0.14em;
  }
  100% {
    opacity: 0;
    transform: translate(-50%, -10px) scale(1.04);
    letter-spacing: 0.16em;
  }
}

@keyframes barrierHolyPrismSpin {
  0% {
    transform: translate(-50%, -50%) rotate(0deg);
    opacity: 0.2;
  }
  50% {
    opacity: 0.34;
  }
  100% {
    transform: translate(-50%, -50%) rotate(360deg);
    opacity: 0.2;
  }
}

@keyframes healDomainManifest {
  0% {
    opacity: 0;
    transform: translate(-50%, -50%) scale(0.84);
    filter: brightness(0.82) saturate(0.9);
  }
  24% {
    opacity: 1;
    transform: translate(-50%, -50%) scale(0.95);
    filter: brightness(1.08) saturate(1.02);
  }
  66% {
    opacity: 1;
    transform: translate(-50%, -50%) scale(1);
    filter: brightness(1.16) saturate(1.06);
  }
  100% {
    opacity: 0;
    transform: translate(-50%, -50%) scale(1.08);
    filter: brightness(1.02) saturate(1);
  }
}

@keyframes healDomainAuraPulse {
  0% {
    opacity: 0.2;
    transform: scale(0.88);
  }
  34% {
    opacity: 0.86;
    transform: scale(1.01);
  }
  72% {
    opacity: 0.74;
    transform: scale(1.07);
  }
  100% {
    opacity: 0.2;
    transform: scale(1.12);
  }
}

@keyframes healDomainRingSpinCw {
  0% {
    transform: translate(-50%, -50%) rotate(0deg) scale(0.94);
    opacity: 0.44;
  }
  22% {
    opacity: 0.94;
  }
  100% {
    transform: translate(-50%, -50%) rotate(190deg) scale(1.05);
    opacity: 0.1;
  }
}

@keyframes healDomainRingSpinCcw {
  0% {
    transform: translate(-50%, -50%) rotate(0deg) scale(0.92);
    opacity: 0.36;
  }
  26% {
    opacity: 0.88;
  }
  100% {
    transform: translate(-50%, -50%) rotate(-165deg) scale(1.07);
    opacity: 0.12;
  }
}

@keyframes healDomainSigilPulse {
  0% {
    opacity: 0;
    transform: translate(-50%, -50%) scale(0.9);
  }
  20% {
    opacity: 0.98;
    transform: translate(-50%, -50%) scale(0.98);
  }
  72% {
    opacity: 0.92;
    transform: translate(-50%, -50%) scale(1.02);
  }
  100% {
    opacity: 0.2;
    transform: translate(-50%, -50%) scale(1.08);
  }
}

@keyframes healDomainLabelReveal {
  0% {
    opacity: 0;
    transform: translate(-50%, 2px) scale(0.88);
    letter-spacing: 0.08em;
  }
  32% {
    opacity: 1;
    transform: translate(-50%, -4px) scale(1.02);
    letter-spacing: 0.14em;
  }
  72% {
    opacity: 1;
    transform: translate(-50%, -4px) scale(1.02);
    letter-spacing: 0.14em;
  }
  100% {
    opacity: 0;
    transform: translate(-50%, -10px) scale(1.04);
    letter-spacing: 0.17em;
  }
}

@keyframes healHolyHueShift {
  0% {
    filter: hue-rotate(0deg) saturate(1.08) brightness(1.02);
  }
  50% {
    filter: hue-rotate(180deg) saturate(1.22) brightness(1.14);
  }
  100% {
    filter: hue-rotate(360deg) saturate(1.08) brightness(1.02);
  }
}

@keyframes healHolyCommentReveal {
  0% {
    opacity: 0;
    transform: translate(-50%, 10px) scale(0.9);
    letter-spacing: 0.04em;
  }
  24% {
    opacity: 0;
    transform: translate(-50%, 10px) scale(0.92);
    letter-spacing: 0.05em;
  }
  42% {
    opacity: 1;
    transform: translate(-50%, -2px) scale(1);
    letter-spacing: 0.08em;
  }
  82% {
    opacity: 1;
    transform: translate(-50%, -2px) scale(1);
    letter-spacing: 0.08em;
  }
  100% {
    opacity: 0;
    transform: translate(-50%, -10px) scale(1.04);
    letter-spacing: 0.11em;
  }
}

@keyframes ironWallFieldPulse {
  0% {
    box-shadow:
      var(--shadow),
      0 0 0 rgba(255, 255, 255, 0);
    border-color: rgba(221, 229, 245, 0.26);
  }
  40% {
    box-shadow:
      var(--shadow),
      0 0 0 2px rgba(213, 255, 248, 0.94),
      0 0 30px rgba(150, 234, 255, 0.66),
      0 0 66px rgba(122, 187, 255, 0.42);
    border-color: rgba(218, 255, 248, 0.96);
  }
  100% {
    box-shadow:
      var(--shadow),
      0 0 0 rgba(255, 255, 255, 0);
    border-color: rgba(221, 229, 245, 0.26);
  }
}

@keyframes enemyCardDefeatFade {
  0% {
    opacity: 1;
    transform: scale(1);
    filter: brightness(1);
  }
  45% {
    opacity: 0.66;
    transform: scale(0.98);
    filter: brightness(1.22);
  }
  100% {
    opacity: 0;
    transform: scale(0.92);
    filter: brightness(0.78) blur(1.8px);
  }
}

@keyframes enemyCardSpawnReveal {
  0% {
    opacity: 0;
    transform: scale(1.08);
    filter: brightness(1.44) blur(2px);
  }
  42% {
    opacity: 0.86;
    transform: scale(1.02);
    filter: brightness(1.18);
  }
  100% {
    opacity: 1;
    transform: scale(1);
    filter: brightness(1);
  }
}

@keyframes enemyTransitionBannerPulse {
  0% {
    opacity: 0;
    transform: translate(-50%, -50%) scale(0.8);
    filter: blur(2px);
  }
  16% {
    opacity: 1;
    transform: translate(-50%, -50%) scale(1);
    filter: blur(0);
  }
  72% {
    opacity: 1;
    transform: translate(-50%, -50%) scale(1.03);
    filter: blur(0);
  }
  100% {
    opacity: 0;
    transform: translate(-50%, -50%) scale(1.08);
    filter: blur(2px);
  }
}

.battle-fx-layer {
  position: fixed;
  inset: 0;
  pointer-events: none;
  z-index: 70;
}

.attack-fx-lancelate-preemptive {
  position: fixed;
  width: clamp(120px, 16vmin, 220px);
  aspect-ratio: 1;
  transform: translate(-50%, -50%);
  pointer-events: none;
  z-index: 72;
}

.attack-fx-lancelate-preemptive::before,
.attack-fx-lancelate-preemptive::after {
  content: "";
  position: absolute;
  left: 50%;
  top: 50%;
  border-radius: 50%;
  transform: translate(-50%, -50%);
  pointer-events: none;
  mix-blend-mode: screen;
}

.attack-fx-lancelate-preemptive::before {
  width: 148%;
  height: 148%;
  background:
    radial-gradient(circle, rgba(255, 252, 232, 0.74) 0%, rgba(255, 234, 172, 0.34) 42%, rgba(255, 234, 172, 0) 76%);
  animation: lancelatePreemptiveFieldPulse var(--lancelate-preemptive-duration, 1700ms) cubic-bezier(0.16, 0.74, 0.2, 1) forwards;
}

.attack-fx-lancelate-preemptive::after {
  width: 126%;
  height: 126%;
  border: 1px solid rgba(255, 245, 205, 0.4);
  box-shadow:
    0 0 26px rgba(255, 232, 162, 0.44),
    inset 0 0 20px rgba(255, 246, 214, 0.26);
  animation:
    lancelatePreemptiveHaloSpin var(--lancelate-preemptive-duration, 1700ms) linear forwards,
    lancelatePreemptiveFieldPulse var(--lancelate-preemptive-duration, 1700ms) ease-out forwards;
}

.attack-fx-lancelate-aura,
.attack-fx-lancelate-halo,
.attack-fx-lancelate-card {
  position: absolute;
  left: 50%;
  top: 50%;
  transform: translate(-50%, -50%);
  pointer-events: none;
}

.attack-fx-lancelate-aura {
  border-radius: 50%;
  mix-blend-mode: screen;
  animation: lancelatePreemptiveGlow var(--lancelate-preemptive-duration, 1700ms) ease-out forwards;
}

.attack-fx-lancelate-aura.outer {
  width: 100%;
  height: 100%;
  background:
    radial-gradient(circle, rgba(255, 253, 219, 0.72) 0%, rgba(255, 238, 165, 0.42) 42%, rgba(255, 237, 162, 0.08) 74%, rgba(255, 237, 162, 0) 100%);
  box-shadow:
    0 0 30px rgba(255, 244, 204, 0.74),
    0 0 68px rgba(255, 219, 128, 0.58);
}

.attack-fx-lancelate-aura.inner {
  width: 74%;
  height: 74%;
  border: 1px solid rgba(255, 247, 216, 0.92);
  box-shadow:
    inset 0 0 20px rgba(255, 245, 210, 0.58),
    0 0 28px rgba(255, 226, 146, 0.56);
  animation-delay: calc(var(--lancelate-preemptive-duration, 1700ms) * 0.08);
}

.attack-fx-lancelate-halo {
  width: 112%;
  height: 112%;
  border-radius: 50%;
  border: 1px solid rgba(255, 245, 205, 0.54);
  box-shadow:
    0 0 24px rgba(255, 233, 165, 0.42),
    inset 0 0 20px rgba(255, 246, 214, 0.24);
  mix-blend-mode: screen;
  animation: lancelatePreemptiveHaloSpin var(--lancelate-preemptive-duration, 1700ms) linear forwards;
}

.attack-fx-lancelate-card {
  width: clamp(74px, 9vmin, 116px);
  aspect-ratio: 3 / 4;
  border-radius: 10px;
  overflow: hidden;
  border: 1px solid rgba(255, 246, 209, 0.9);
  box-shadow:
    0 12px 26px rgba(0, 0, 0, 0.44),
    0 0 30px rgba(255, 234, 158, 0.74),
    0 0 52px rgba(255, 247, 216, 0.52);
  animation:
    lancelatePreemptiveHover var(--lancelate-preemptive-duration, 1700ms) cubic-bezier(0.16, 0.74, 0.2, 1) forwards,
    lancelateCardAuraPulse 680ms ease-in-out infinite;
}

.attack-fx-lancelate-card::before {
  content: "";
  position: absolute;
  inset: -10%;
  border-radius: 12px;
  background:
    radial-gradient(circle at 50% 50%, rgba(255, 252, 226, 0.34) 0%, rgba(255, 235, 164, 0.14) 52%, rgba(255, 235, 164, 0) 84%);
  mix-blend-mode: screen;
  pointer-events: none;
}

.attack-fx-lancelate-card::after {
  content: "";
  position: absolute;
  inset: 0;
  background:
    linear-gradient(128deg, rgba(255, 255, 255, 0.34) 0%, rgba(255, 255, 255, 0.08) 34%, rgba(255, 220, 130, 0.2) 62%, rgba(255, 255, 255, 0.08) 100%);
}

.attack-fx-lancelate-card img {
  width: 100%;
  height: 100%;
  object-fit: cover;
  display: block;
}

.attack-fx-berserker-rage {
  position: fixed;
  width: clamp(132px, 17vmin, 236px);
  aspect-ratio: 1;
  transform: translate(-50%, -50%);
  pointer-events: none;
  z-index: 72;
}

.attack-fx-berserker-rage::before,
.attack-fx-berserker-rage::after {
  content: "";
  position: absolute;
  left: 50%;
  top: 50%;
  border-radius: 50%;
  transform: translate(-50%, -50%);
  pointer-events: none;
  mix-blend-mode: screen;
}

.attack-fx-berserker-rage::before {
  width: 154%;
  height: 154%;
  background:
    radial-gradient(circle, rgba(255, 176, 176, 0.72) 0%, rgba(255, 102, 102, 0.36) 44%, rgba(255, 102, 102, 0) 78%);
  animation: berserkerRageAuraPulse var(--berserker-rage-duration, 1700ms) cubic-bezier(0.15, 0.72, 0.22, 1) forwards;
}

.attack-fx-berserker-rage::after {
  width: 126%;
  height: 126%;
  border: 1px solid rgba(255, 173, 173, 0.7);
  box-shadow:
    0 0 28px rgba(255, 110, 110, 0.56),
    inset 0 0 24px rgba(255, 178, 178, 0.28);
  animation:
    berserkerRageFlareSpin var(--berserker-rage-duration, 1700ms) linear forwards,
    berserkerRageAuraPulse var(--berserker-rage-duration, 1700ms) ease-out forwards;
}

.attack-fx-berserker-aura,
.attack-fx-berserker-flare,
.attack-fx-berserker-card {
  position: absolute;
  left: 50%;
  top: 50%;
  transform: translate(-50%, -50%);
  pointer-events: none;
}

.attack-fx-berserker-aura {
  width: 102%;
  height: 102%;
  border-radius: 50%;
  background:
    radial-gradient(circle, rgba(255, 165, 165, 0.82) 0%, rgba(255, 108, 108, 0.46) 38%, rgba(255, 88, 88, 0.08) 74%, rgba(255, 88, 88, 0) 100%);
  box-shadow:
    0 0 34px rgba(255, 120, 120, 0.72),
    0 0 70px rgba(255, 88, 88, 0.44);
  animation: berserkerRageAuraPulse var(--berserker-rage-duration, 1700ms) cubic-bezier(0.15, 0.72, 0.22, 1) forwards;
}

.attack-fx-berserker-flare {
  width: 118%;
  height: 118%;
  border-radius: 50%;
  border: 1px solid rgba(255, 178, 178, 0.76);
  box-shadow:
    inset 0 0 18px rgba(255, 189, 189, 0.36),
    0 0 24px rgba(255, 126, 126, 0.56);
  animation: berserkerRageFlareSpin var(--berserker-rage-duration, 1700ms) linear forwards;
}

.attack-fx-berserker-card {
  width: clamp(84px, 10vmin, 132px);
  aspect-ratio: 3 / 4;
  border-radius: 12px;
  overflow: hidden;
  border: 2px solid rgba(255, 184, 184, 0.88);
  box-shadow:
    0 16px 30px rgba(0, 0, 0, 0.48),
    0 0 34px rgba(255, 124, 124, 0.78),
    0 0 64px rgba(255, 91, 91, 0.54);
  animation: berserkerRageHover var(--berserker-rage-duration, 1700ms) cubic-bezier(0.15, 0.72, 0.22, 1) forwards;
}

.attack-fx-berserker-card::before {
  content: "";
  position: absolute;
  inset: -12%;
  border-radius: 16px;
  background:
    radial-gradient(circle at 50% 50%, rgba(255, 224, 224, 0.34) 0%, rgba(255, 128, 128, 0.14) 54%, rgba(255, 128, 128, 0) 86%);
  mix-blend-mode: screen;
  pointer-events: none;
}

.attack-fx-berserker-card::after {
  content: "";
  position: absolute;
  inset: 0;
  background:
    linear-gradient(132deg, rgba(255, 246, 246, 0.26) 0%, rgba(255, 157, 157, 0.16) 32%, rgba(255, 73, 73, 0.24) 66%, rgba(255, 244, 244, 0.12) 100%);
}

.attack-fx-berserker-card img {
  width: 100%;
  height: 100%;
  object-fit: cover;
  display: block;
}

.attack-fx-luna-sparkle {
  position: fixed;
  width: clamp(132px, 18vmin, 246px);
  aspect-ratio: 1;
  transform: translate(-50%, -50%);
  pointer-events: none;
  z-index: 72;
}

.attack-fx-luna-sparkle-aura,
.attack-fx-luna-sparkle-ring,
.attack-fx-luna-sparkle-core,
.attack-fx-luna-sparkle-card,
.attack-fx-luna-spark {
  position: absolute;
  left: 50%;
  top: 50%;
  transform: translate(-50%, -50%);
  pointer-events: none;
}

.attack-fx-luna-sparkle-aura {
  width: 150%;
  height: 150%;
  border-radius: 50%;
  background:
    radial-gradient(circle, rgba(240, 238, 255, 0.78) 0%, rgba(193, 214, 255, 0.42) 38%, rgba(224, 173, 255, 0.2) 66%, rgba(224, 173, 255, 0) 100%);
  box-shadow:
    0 0 34px rgba(193, 207, 255, 0.74),
    0 0 70px rgba(224, 173, 255, 0.42);
  mix-blend-mode: screen;
  animation: lunaStarWisdomAuraPulse var(--luna-sparkle-duration, 1600ms) cubic-bezier(0.15, 0.78, 0.22, 1) forwards;
}

.attack-fx-luna-sparkle-ring {
  width: 118%;
  height: 118%;
  border-radius: 50%;
  border: 1px solid rgba(223, 231, 255, 0.88);
  box-shadow:
    inset 0 0 20px rgba(223, 231, 255, 0.3),
    0 0 26px rgba(198, 210, 255, 0.56);
  mix-blend-mode: screen;
  animation: lunaStarWisdomRingSpin var(--luna-sparkle-duration, 1600ms) linear forwards;
}

.attack-fx-luna-sparkle-core {
  width: 46%;
  height: 46%;
  border-radius: 50%;
  background:
    radial-gradient(circle, rgba(255, 252, 240, 0.94) 0%, rgba(231, 214, 255, 0.56) 44%, rgba(231, 214, 255, 0) 100%);
  box-shadow:
    0 0 28px rgba(230, 215, 255, 0.7),
    0 0 56px rgba(208, 222, 255, 0.4);
  mix-blend-mode: screen;
  animation: lunaStarWisdomAuraPulse var(--luna-sparkle-duration, 1600ms) ease-out forwards;
}

.attack-fx-luna-spark {
  width: var(--spark-size, 8px);
  height: var(--spark-size, 8px);
  border-radius: 50%;
  background:
    radial-gradient(circle, rgba(255, 252, 236, 0.96) 0%, rgba(231, 218, 255, 0.72) 54%, rgba(203, 225, 255, 0) 100%);
  box-shadow:
    0 0 10px rgba(244, 234, 255, 0.78),
    0 0 22px rgba(193, 207, 255, 0.58);
  mix-blend-mode: screen;
  animation: lunaStarWisdomSparkBurst calc(var(--luna-sparkle-duration, 1600ms) * 0.88) cubic-bezier(0.14, 0.74, 0.2, 1) forwards;
  animation-delay: var(--spark-delay, 0ms);
}

.attack-fx-luna-sparkle-card {
  width: clamp(70px, 8.6vmin, 114px);
  aspect-ratio: 3 / 4;
  border-radius: 11px;
  overflow: hidden;
  border: 1px solid rgba(230, 237, 255, 0.9);
  box-shadow:
    0 14px 28px rgba(0, 0, 0, 0.44),
    0 0 28px rgba(206, 218, 255, 0.72),
    0 0 54px rgba(227, 186, 255, 0.46);
  animation: lunaStarWisdomCardFloat var(--luna-sparkle-duration, 1600ms) cubic-bezier(0.14, 0.74, 0.2, 1) forwards;
}

.attack-fx-luna-sparkle-card::before {
  content: "";
  position: absolute;
  inset: -10%;
  border-radius: 14px;
  background:
    radial-gradient(circle at 50% 50%, rgba(246, 242, 255, 0.34) 0%, rgba(213, 226, 255, 0.14) 56%, rgba(213, 226, 255, 0) 86%);
  mix-blend-mode: screen;
  pointer-events: none;
}

.attack-fx-luna-sparkle-card img {
  width: 100%;
  height: 100%;
  object-fit: cover;
  display: block;
}

.attack-fx-enchant-link {
  position: fixed;
  inset: 0;
  pointer-events: none;
  z-index: 71;
}

.attack-fx-enchant-node {
  position: fixed;
  width: clamp(72px, 9.2vmin, 112px);
  aspect-ratio: 1;
  border-radius: 50%;
  transform: translate(-50%, -50%);
  mix-blend-mode: screen;
  pointer-events: none;
}

.attack-fx-enchant-node.strategist {
  border: 1px solid rgba(199, 236, 255, 0.78);
  background:
    radial-gradient(circle, rgba(220, 243, 255, 0.68) 0%, rgba(167, 214, 255, 0.42) 38%, rgba(120, 178, 255, 0.14) 68%, rgba(120, 178, 255, 0) 100%);
  box-shadow:
    0 0 22px rgba(170, 220, 255, 0.58),
    0 0 54px rgba(130, 192, 255, 0.36);
  animation: enchantLinkNodeStrategist var(--enchant-link-duration, 1900ms) ease-out forwards;
}

.attack-fx-enchant-node.attacker {
  border: 1px solid rgba(255, 242, 194, 0.8);
  background:
    radial-gradient(circle, rgba(255, 246, 210, 0.72) 0%, rgba(255, 227, 158, 0.48) 36%, rgba(255, 190, 99, 0.16) 66%, rgba(255, 190, 99, 0) 100%);
  box-shadow:
    0 0 24px rgba(255, 227, 153, 0.6),
    0 0 58px rgba(255, 188, 94, 0.38);
  animation: enchantLinkNodeAttacker var(--enchant-link-duration, 1900ms) ease-out forwards;
}

.attack-fx-enchant-line {
  position: fixed;
  height: 4px;
  transform-origin: 0 50%;
  transform: translateY(-50%) rotate(var(--enchant-line-angle, 0rad)) scaleX(0);
  background:
    linear-gradient(
      90deg,
      rgba(138, 200, 255, 0) 0%,
      rgba(188, 230, 255, 0.96) 18%,
      rgba(255, 246, 210, 1) 50%,
      rgba(191, 232, 255, 0.96) 82%,
      rgba(138, 200, 255, 0) 100%
    );
  background-size: 160px 100%;
  border-radius: 999px;
  box-shadow:
    0 0 12px rgba(178, 226, 255, 0.64),
    0 0 28px rgba(255, 238, 182, 0.44);
  opacity: 0;
  animation:
    enchantLinkLineGrow var(--enchant-link-duration, 1900ms) cubic-bezier(0.16, 0.74, 0.2, 1) forwards,
    enchantLinkLineFlow 1s linear infinite;
}

.attack-fx-enchant-spark {
  position: fixed;
  width: clamp(36px, 4.6vmin, 56px);
  aspect-ratio: 1;
  border-radius: 50%;
  transform: translate(-50%, -50%);
  background:
    radial-gradient(circle, rgba(255, 255, 240, 0.98) 0%, rgba(255, 236, 166, 0.9) 32%, rgba(255, 192, 95, 0.42) 62%, rgba(255, 192, 95, 0) 100%);
  box-shadow:
    0 0 16px rgba(255, 236, 176, 0.78),
    0 0 34px rgba(255, 199, 113, 0.52);
  opacity: 0;
  mix-blend-mode: screen;
  animation: enchantLinkSparkPulse var(--enchant-link-duration, 1900ms) ease-out forwards;
}

.attack-fx-enchant-link.minstrel-relay .attack-fx-enchant-node.strategist {
  border: 1px solid rgba(168, 255, 214, 0.92);
  background:
    radial-gradient(circle, rgba(216, 255, 236, 0.78) 0%, rgba(148, 249, 201, 0.54) 36%, rgba(86, 220, 159, 0.2) 68%, rgba(86, 220, 159, 0) 100%);
  box-shadow:
    0 0 24px rgba(126, 240, 186, 0.66),
    0 0 56px rgba(90, 220, 160, 0.42);
}

.attack-fx-enchant-link.minstrel-relay .attack-fx-enchant-node.attacker {
  border: 1px solid rgba(194, 255, 222, 0.88);
  background:
    radial-gradient(circle, rgba(224, 255, 240, 0.78) 0%, rgba(171, 252, 214, 0.52) 34%, rgba(112, 231, 174, 0.2) 66%, rgba(112, 231, 174, 0) 100%);
  box-shadow:
    0 0 24px rgba(144, 246, 196, 0.62),
    0 0 58px rgba(101, 226, 171, 0.4);
}

.attack-fx-enchant-link.minstrel-relay .attack-fx-enchant-line {
  background:
    linear-gradient(
      90deg,
      rgba(108, 236, 178, 0) 0%,
      rgba(158, 247, 206, 0.96) 18%,
      rgba(229, 255, 240, 1) 50%,
      rgba(160, 248, 207, 0.96) 82%,
      rgba(108, 236, 178, 0) 100%
    );
  box-shadow:
    0 0 14px rgba(145, 244, 197, 0.68),
    0 0 30px rgba(114, 233, 178, 0.46);
}

.attack-fx-enchant-link.minstrel-relay .attack-fx-enchant-spark {
  background:
    radial-gradient(circle, rgba(238, 255, 246, 0.98) 0%, rgba(182, 252, 217, 0.92) 32%, rgba(114, 229, 172, 0.46) 62%, rgba(114, 229, 172, 0) 100%);
  box-shadow:
    0 0 16px rgba(178, 252, 218, 0.8),
    0 0 36px rgba(124, 232, 181, 0.54);
}

.attack-fx-life-burst-cinematic {
  position: fixed;
  inset: 0;
  overflow: hidden;
  pointer-events: none;
  transform-origin: center center;
  background:
    radial-gradient(circle at 50% 54%, rgba(255, 150, 128, 0.24) 0%, rgba(236, 86, 74, 0.12) 42%, rgba(42, 8, 8, 0) 72%),
    linear-gradient(165deg, rgba(18, 5, 7, 0.92) 0%, rgba(46, 8, 12, 0.88) 28%, rgba(92, 14, 20, 0.72) 64%, rgba(17, 4, 6, 0.94)
      100%);
  animation: lifeBurstCinematicAppear 720ms cubic-bezier(0.18, 0.8, 0.2, 1) forwards;
}

.attack-fx-life-burst-backdrop {
  position: absolute;
  inset: -10%;
  background:
    radial-gradient(circle at 50% 50%, rgba(255, 214, 183, 0.24) 0%, rgba(255, 112, 89, 0.14) 30%, rgba(196, 24, 37, 0.08) 56%, rgba(35, 7, 9, 0)
      76%),
    radial-gradient(circle at 30% 78%, rgba(255, 93, 69, 0.2) 0%, rgba(255, 83, 78, 0) 42%),
    radial-gradient(circle at 70% 20%, rgba(255, 156, 110, 0.14) 0%, rgba(255, 156, 110, 0) 46%);
  filter: blur(10px);
}

.attack-fx-life-burst-aura {
  position: absolute;
  left: 50%;
  top: 50%;
  border-radius: 50%;
  transform: translate(-50%, -50%);
  pointer-events: none;
}

.attack-fx-life-burst-aura.primary {
  width: min(76vmin, 860px);
  aspect-ratio: 1;
  border: 2px solid rgba(255, 211, 178, 0.68);
  box-shadow:
    0 0 34px rgba(255, 146, 116, 0.74),
    0 0 100px rgba(255, 78, 58, 0.42),
    inset 0 0 38px rgba(255, 214, 196, 0.26);
  animation: lifeBurstAuraPulse 2.7s ease-in-out infinite;
}

.attack-fx-life-burst-aura.secondary {
  width: min(58vmin, 640px);
  aspect-ratio: 1;
  border: 1px solid rgba(255, 228, 207, 0.78);
  box-shadow:
    0 0 26px rgba(255, 172, 136, 0.64),
    inset 0 0 28px rgba(255, 232, 220, 0.24);
  animation: lifeBurstAuraPulse 3.2s ease-in-out infinite reverse;
}

.attack-fx-life-burst-embers {
  position: absolute;
  left: 50%;
  top: 50%;
  width: min(88vmin, 980px);
  aspect-ratio: 1;
  transform: translate(-50%, -50%);
  border-radius: 50%;
  background:
    radial-gradient(circle at 24% 66%, rgba(255, 186, 139, 0.38) 0%, rgba(255, 186, 139, 0) 14%),
    radial-gradient(circle at 70% 28%, rgba(255, 215, 169, 0.28) 0%, rgba(255, 215, 169, 0) 12%),
    radial-gradient(circle at 48% 20%, rgba(255, 120, 95, 0.22) 0%, rgba(255, 120, 95, 0) 18%),
    radial-gradient(circle at 52% 80%, rgba(255, 100, 86, 0.22) 0%, rgba(255, 100, 86, 0) 18%);
  filter: blur(2px);
  opacity: 0.7;
  animation: lifeBurstEmberFlow 5.2s ease-in-out infinite alternate;
}

.attack-fx-life-burst-copy {
  position: absolute;
  left: 50%;
  top: 50%;
  width: min(88vw, 980px);
  transform: translate(-50%, -50%);
  text-align: center;
  color: #fff4e8;
}

.attack-fx-life-burst-title {
  margin: 0 0 20px;
  font-family: "Cinzel", "Yu Mincho", "Hiragino Mincho ProN", serif;
  font-size: clamp(30px, 5.2vw, 72px);
  font-weight: 700;
  letter-spacing: 0.2em;
  text-shadow:
    0 0 16px rgba(255, 220, 184, 0.94),
    0 0 46px rgba(255, 129, 93, 0.68),
    0 0 88px rgba(241, 58, 70, 0.46);
  animation: lifeBurstTitleShine 2s ease-in-out infinite alternate;
}

.attack-fx-life-burst-line {
  margin: 0;
  font-family: "Yu Mincho", "Hiragino Mincho ProN", serif;
  font-size: clamp(20px, 3vw, 42px);
  line-height: 1.55;
  font-weight: 700;
  letter-spacing: 0.06em;
  text-shadow:
    0 0 12px rgba(255, 238, 222, 0.9),
    0 0 30px rgba(255, 138, 108, 0.64),
    0 0 62px rgba(233, 64, 66, 0.44);
}

.attack-fx-life-burst-subline {
  margin: 14px 0 0;
  font-family: "Yu Mincho", "Hiragino Mincho ProN", serif;
  font-size: clamp(16px, 1.9vw, 24px);
  line-height: 1.6;
  letter-spacing: 0.05em;
  color: rgba(255, 236, 225, 0.96);
  text-shadow:
    0 0 10px rgba(255, 218, 196, 0.78),
    0 0 26px rgba(255, 128, 95, 0.5);
}

.attack-fx-life-burst-hint {
  position: absolute;
  left: 50%;
  bottom: max(4vh, 20px);
  margin: 0;
  font-family: "Avenir Next", "Yu Gothic", sans-serif;
  font-size: clamp(13px, 1.3vw, 17px);
  font-weight: 700;
  letter-spacing: 0.16em;
  color: rgba(255, 236, 219, 0.92);
  text-shadow:
    0 0 10px rgba(255, 194, 152, 0.72),
    0 0 24px rgba(239, 88, 76, 0.5);
  transform: translate(-50%, 0);
  animation: lifeBurstHintPulse 1.4s ease-in-out infinite;
  white-space: nowrap;
}

.attack-fx-barrier-domain {
  position: fixed;
  left: 50%;
  top: 50%;
  width: min(88vmin, 920px);
  aspect-ratio: 1;
  border-radius: 50%;
  pointer-events: none;
  transform: translate(-50%, -50%);
  animation: barrierDomainManifest var(--barrier-domain-duration, 1900ms) cubic-bezier(0.16, 0.74, 0.2, 1) forwards;
}

.attack-fx-barrier-domain.holy {
  width: min(92vmin, 980px);
  --holy-rainbow-spectrum: conic-gradient(
    from 0deg,
    #ff5f8e 0deg,
    #ffae63 52deg,
    #fff06f 104deg,
    #79f6bb 156deg,
    #6fd4ff 208deg,
    #8b8eff 260deg,
    #ff83d8 312deg,
    #ff5f8e 360deg
  );
}

.attack-fx-barrier-domain.holy::before {
  content: "";
  position: absolute;
  left: 50%;
  top: 50%;
  width: 108%;
  height: 108%;
  border-radius: 50%;
  transform: translate(-50%, -50%);
  background: var(--holy-rainbow-spectrum);
  filter: blur(18px) saturate(1.24);
  mix-blend-mode: screen;
  opacity: 0.24;
  animation: barrierHolyPrismSpin 5.6s linear infinite;
}

.attack-fx-barrier-glow {
  position: absolute;
  inset: -4%;
  border-radius: 50%;
  background:
    radial-gradient(circle, rgba(212, 237, 255, 0.52) 0%, rgba(152, 196, 255, 0.28) 42%, rgba(87, 137, 240, 0) 72%);
  filter: blur(6px);
  animation: barrierDomainGlowPulse var(--barrier-domain-duration, 1900ms) ease-out forwards;
}

.attack-fx-barrier-domain.holy .attack-fx-barrier-glow {
  background:
    radial-gradient(circle, rgba(255, 250, 232, 0.62) 0%, rgba(230, 242, 255, 0.3) 38%, rgba(170, 194, 255, 0) 70%),
    conic-gradient(
      from 18deg,
      rgba(255, 95, 142, 0.34),
      rgba(255, 174, 99, 0.32),
      rgba(255, 240, 111, 0.3),
      rgba(121, 246, 187, 0.3),
      rgba(111, 212, 255, 0.3),
      rgba(139, 142, 255, 0.32),
      rgba(255, 131, 216, 0.34),
      rgba(255, 95, 142, 0.34)
    );
  filter: blur(7px) saturate(1.18);
}

.attack-fx-barrier-ring {
  position: absolute;
  left: 50%;
  top: 50%;
  border-radius: 50%;
  border: 2px solid rgba(220, 238, 255, 0.88);
  box-shadow:
    0 0 22px rgba(163, 206, 255, 0.62),
    inset 0 0 16px rgba(221, 242, 255, 0.32);
}

.attack-fx-barrier-ring.outer {
  width: 96%;
  height: 96%;
  animation: barrierDomainRingSpinCw var(--barrier-domain-duration, 1900ms) linear forwards;
}

.attack-fx-barrier-ring.middle {
  width: 72%;
  height: 72%;
  border-color: rgba(232, 245, 255, 0.94);
  animation: barrierDomainRingSpinCcw var(--barrier-domain-duration, 1900ms) linear forwards;
}

.attack-fx-barrier-ring.inner {
  width: 52%;
  height: 52%;
  border-color: rgba(241, 250, 255, 0.96);
  animation: barrierDomainRingSpinCw var(--barrier-domain-duration, 1900ms) linear reverse forwards;
}

.attack-fx-barrier-domain.holy .attack-fx-barrier-ring {
  border: 2px solid transparent;
  background:
    radial-gradient(circle, rgba(255, 255, 255, 0.12) 0%, rgba(255, 255, 255, 0) 70%) padding-box,
    var(--holy-rainbow-spectrum) border-box;
  box-shadow:
    0 0 26px rgba(255, 214, 168, 0.68),
    0 0 54px rgba(170, 223, 255, 0.48),
    inset 0 0 18px rgba(255, 250, 240, 0.34);
}

.attack-fx-barrier-sigil {
  position: absolute;
  left: 50%;
  top: 50%;
  width: 62%;
  height: 62%;
  transform: translate(-50%, -50%);
  filter:
    drop-shadow(0 0 14px rgba(197, 226, 255, 0.72))
    drop-shadow(0 0 36px rgba(150, 196, 255, 0.44));
  animation: barrierDomainSigilPulse var(--barrier-domain-duration, 1900ms) ease-out forwards;
}

.attack-fx-barrier-domain.holy .attack-fx-barrier-sigil {
  filter:
    drop-shadow(0 0 14px rgba(255, 98, 153, 0.54))
    drop-shadow(0 0 18px rgba(255, 182, 96, 0.5))
    drop-shadow(0 0 22px rgba(106, 223, 255, 0.48))
    drop-shadow(0 0 30px rgba(154, 126, 255, 0.46));
}

.attack-fx-barrier-sigil .ring {
  fill: none;
  stroke: rgba(236, 247, 255, 0.94);
  vector-effect: non-scaling-stroke;
}

.attack-fx-barrier-sigil .ring.outer {
  stroke-width: 1.9;
  stroke-dasharray: 1.6 1.2;
}

.attack-fx-barrier-sigil .ring.middle {
  stroke-width: 1.5;
  stroke-dasharray: 1.2 1.1;
}

.attack-fx-barrier-sigil .ring.inner {
  stroke-width: 1.35;
  stroke-dasharray: 0.9 0.9;
}

.attack-fx-barrier-sigil .sigil-star {
  fill: none;
  stroke: rgba(243, 251, 255, 0.97);
  stroke-width: 1.8;
  stroke-linejoin: round;
  vector-effect: non-scaling-stroke;
}

.attack-fx-barrier-sigil .sigil-cross {
  fill: none;
  stroke: rgba(232, 246, 255, 0.94);
  stroke-width: 1.35;
  stroke-linecap: round;
  stroke-linejoin: round;
  vector-effect: non-scaling-stroke;
}

.attack-fx-barrier-domain.holy .attack-fx-barrier-sigil .ring,
.attack-fx-barrier-domain.holy .attack-fx-barrier-sigil .sigil-star,
.attack-fx-barrier-domain.holy .attack-fx-barrier-sigil .sigil-cross {
  stroke: rgba(255, 255, 250, 0.98);
}

.attack-fx-barrier-label {
  position: absolute;
  left: 50%;
  bottom: 14%;
  margin: 0;
  color: #f6fbff;
  font-family: "Cinzel", "Yu Mincho", "Hiragino Mincho ProN", serif;
  font-size: clamp(20px, 2.8vw, 34px);
  font-weight: 700;
  letter-spacing: 0.14em;
  text-shadow:
    0 0 12px rgba(198, 229, 255, 0.9),
    0 0 28px rgba(163, 207, 255, 0.62);
  transform: translate(-50%, 0);
  animation: barrierDomainLabelReveal var(--barrier-domain-duration, 1900ms) ease-out forwards;
  white-space: nowrap;
}

.attack-fx-barrier-domain.holy .attack-fx-barrier-label {
  color: transparent;
  background-image: linear-gradient(
    96deg,
    #ff5f8e 0%,
    #ffae63 16%,
    #fff06f 32%,
    #79f6bb 48%,
    #6fd4ff 64%,
    #8b8eff 80%,
    #ff83d8 100%
  );
  -webkit-background-clip: text;
  background-clip: text;
  text-shadow:
    0 0 14px rgba(255, 239, 216, 0.88),
    0 0 36px rgba(255, 138, 112, 0.52),
    0 0 44px rgba(122, 210, 255, 0.44);
}

.attack-fx-heal-domain {
  position: fixed;
  left: 50%;
  top: 50%;
  width: min(78vmin, 780px);
  aspect-ratio: 1;
  border-radius: 50%;
  pointer-events: none;
  transform: translate(-50%, -50%);
  animation: healDomainManifest var(--heal-domain-duration, 1850ms) cubic-bezier(0.16, 0.74, 0.2, 1) forwards;
}

.attack-fx-heal-domain.holy {
  width: min(84vmin, 860px);
  --holy-heal-spectrum: conic-gradient(
    from 0deg,
    #ff5f8e 0deg,
    #ffae63 52deg,
    #fff06f 104deg,
    #79f6bb 156deg,
    #6fd4ff 208deg,
    #8b8eff 260deg,
    #ff83d8 312deg,
    #ff5f8e 360deg
  );
}

.attack-fx-heal-prism {
  display: none;
  position: absolute;
  left: 50%;
  top: 50%;
  width: 112%;
  height: 112%;
  border-radius: 50%;
  transform: translate(-50%, -50%);
  pointer-events: none;
}

.attack-fx-heal-domain.holy .attack-fx-heal-prism {
  display: block;
  background: var(--holy-heal-spectrum);
  filter: blur(16px) saturate(1.2);
  mix-blend-mode: screen;
  opacity: 0.28;
  animation: barrierHolyPrismSpin 6.8s linear infinite, healHolyHueShift 4.2s ease-in-out infinite;
}

.attack-fx-heal-aura {
  position: absolute;
  inset: -8%;
  border-radius: 50%;
  background:
    radial-gradient(circle, rgba(255, 255, 255, 0.66) 0%, rgba(226, 242, 255, 0.34) 36%, rgba(190, 220, 255, 0.1) 56%, rgba(153, 188, 255, 0) 76%);
  filter: blur(8px);
  animation: healDomainAuraPulse var(--heal-domain-duration, 1850ms) ease-out forwards;
}

.attack-fx-heal-domain.holy .attack-fx-heal-aura {
  background:
    radial-gradient(circle, rgba(255, 252, 242, 0.72) 0%, rgba(248, 238, 212, 0.38) 36%, rgba(220, 236, 255, 0.2) 56%, rgba(166, 210, 255, 0) 76%),
    conic-gradient(
      from 14deg,
      rgba(255, 95, 142, 0.28),
      rgba(255, 174, 99, 0.26),
      rgba(255, 240, 111, 0.24),
      rgba(121, 246, 187, 0.24),
      rgba(111, 212, 255, 0.24),
      rgba(139, 142, 255, 0.25),
      rgba(255, 131, 216, 0.28),
      rgba(255, 95, 142, 0.28)
    );
  filter: blur(9px) saturate(1.14);
  animation: healDomainAuraPulse var(--heal-domain-duration, 1850ms) ease-out forwards, healHolyHueShift 4s linear infinite;
}

.attack-fx-heal-ring {
  position: absolute;
  left: 50%;
  top: 50%;
  border-radius: 50%;
  border: 2px solid rgba(238, 248, 255, 0.9);
  box-shadow:
    0 0 26px rgba(209, 238, 255, 0.62),
    inset 0 0 18px rgba(245, 252, 255, 0.4);
}

.attack-fx-heal-ring.outer {
  width: 96%;
  height: 96%;
  animation: healDomainRingSpinCw var(--heal-domain-duration, 1850ms) linear forwards;
}

.attack-fx-heal-ring.middle {
  width: 74%;
  height: 74%;
  border-color: rgba(246, 252, 255, 0.94);
  animation: healDomainRingSpinCcw var(--heal-domain-duration, 1850ms) linear forwards;
}

.attack-fx-heal-ring.inner {
  width: 50%;
  height: 50%;
  border-color: rgba(255, 255, 255, 0.94);
  animation: healDomainRingSpinCw var(--heal-domain-duration, 1850ms) linear reverse forwards;
}

.attack-fx-heal-domain.holy .attack-fx-heal-ring {
  border: 2px solid transparent;
  background:
    radial-gradient(circle, rgba(255, 255, 255, 0.14) 0%, rgba(255, 255, 255, 0) 70%) padding-box,
    var(--holy-heal-spectrum) border-box;
  box-shadow:
    0 0 30px rgba(255, 239, 197, 0.68),
    0 0 56px rgba(207, 232, 255, 0.46),
    inset 0 0 20px rgba(255, 251, 240, 0.5);
  animation-duration: var(--heal-domain-duration, 3600ms);
}

.attack-fx-heal-sigil {
  position: absolute;
  left: 50%;
  top: 50%;
  width: 66%;
  height: 66%;
  transform: translate(-50%, -50%);
  filter:
    drop-shadow(0 0 14px rgba(229, 244, 255, 0.82))
    drop-shadow(0 0 38px rgba(196, 224, 255, 0.48));
  animation: healDomainSigilPulse var(--heal-domain-duration, 1850ms) ease-out forwards;
}

.attack-fx-heal-domain.holy .attack-fx-heal-sigil {
  filter:
    drop-shadow(0 0 14px rgba(255, 95, 142, 0.5))
    drop-shadow(0 0 16px rgba(255, 182, 96, 0.46))
    drop-shadow(0 0 20px rgba(106, 223, 255, 0.44))
    drop-shadow(0 0 30px rgba(154, 126, 255, 0.42));
  animation: healDomainSigilPulse var(--heal-domain-duration, 3600ms) ease-out forwards, healHolyHueShift 3.6s linear infinite;
}

.attack-fx-heal-sigil .ring {
  fill: none;
  stroke: rgba(246, 252, 255, 0.97);
  vector-effect: non-scaling-stroke;
}

.attack-fx-heal-sigil .ring.outer {
  stroke-width: 1.85;
  stroke-dasharray: 1.6 1.15;
}

.attack-fx-heal-sigil .ring.middle {
  stroke-width: 1.45;
  stroke-dasharray: 1.18 1.04;
}

.attack-fx-heal-sigil .ring.inner {
  stroke-width: 1.3;
  stroke-dasharray: 0.86 0.86;
}

.attack-fx-heal-sigil .cross {
  fill: none;
  stroke: rgba(255, 255, 255, 0.98);
  stroke-linecap: round;
  vector-effect: non-scaling-stroke;
}

.attack-fx-heal-sigil .cross.major {
  stroke-width: 2.4;
}

.attack-fx-heal-sigil .cross.minor {
  stroke-width: 1.36;
}

.attack-fx-heal-sigil .glyph {
  fill: none;
  stroke: rgba(240, 249, 255, 0.95);
  stroke-width: 1.18;
  stroke-linecap: round;
  vector-effect: non-scaling-stroke;
}

.attack-fx-heal-sigil .core {
  fill: rgba(255, 255, 255, 0.96);
  stroke: rgba(241, 250, 255, 0.98);
  stroke-width: 0.9;
  vector-effect: non-scaling-stroke;
}

.attack-fx-heal-domain.holy .attack-fx-heal-sigil .ring,
.attack-fx-heal-domain.holy .attack-fx-heal-sigil .cross,
.attack-fx-heal-domain.holy .attack-fx-heal-sigil .glyph,
.attack-fx-heal-domain.holy .attack-fx-heal-sigil .core {
  stroke: rgba(255, 251, 240, 0.99);
}

.attack-fx-heal-label {
  position: absolute;
  left: 50%;
  bottom: 13%;
  margin: 0;
  padding: 0.3em 0.78em 0.34em;
  border-radius: 999px;
  border: 1px solid rgba(228, 240, 255, 0.46);
  background: rgba(8, 16, 36, 0.52);
  box-shadow:
    0 0 0 1px rgba(245, 251, 255, 0.14) inset,
    0 8px 28px rgba(4, 10, 24, 0.44);
  backdrop-filter: blur(3px) saturate(1.08);
  color: rgba(250, 253, 255, 0.98);
  font-family: "Cinzel", "Yu Mincho", "Hiragino Mincho ProN", serif;
  font-size: clamp(18px, 2.3vw, 30px);
  font-weight: 700;
  letter-spacing: 0.14em;
  text-shadow:
    0 0 14px rgba(237, 248, 255, 0.94),
    0 0 34px rgba(189, 218, 255, 0.56);
  transform: translate(-50%, 0);
  animation: healDomainLabelReveal var(--heal-domain-duration, 1850ms) ease-out forwards;
  white-space: nowrap;
  text-align: center;
}

.attack-fx-heal-domain.holy .attack-fx-heal-label {
  color: transparent;
  border-color: rgba(255, 246, 226, 0.58);
  background: rgba(10, 10, 28, 0.62);
  box-shadow:
    0 0 0 1px rgba(255, 250, 240, 0.16) inset,
    0 10px 34px rgba(4, 8, 24, 0.5);
  background-image: linear-gradient(
    96deg,
    #ff5f8e 0%,
    #ffae63 16%,
    #fff06f 32%,
    #79f6bb 48%,
    #6fd4ff 64%,
    #8b8eff 80%,
    #ff83d8 100%
  );
  -webkit-background-clip: text;
  background-clip: text;
  -webkit-text-stroke: 0.58px rgba(14, 24, 50, 0.72);
  text-shadow:
    0 0 4px rgba(10, 18, 40, 0.86),
    0 0 8px rgba(10, 18, 40, 0.62),
    0 0 15px rgba(255, 244, 214, 0.94),
    0 0 36px rgba(214, 233, 255, 0.56);
  animation: healDomainLabelReveal var(--heal-domain-duration, 3600ms) ease-out forwards, healHolyHueShift 4.2s linear infinite;
}

.attack-fx-heal-comment {
  position: absolute;
  left: 50%;
  bottom: 7%;
  margin: 0;
  padding: 0.42em 0.82em 0.46em;
  border-radius: 16px;
  border: 1px solid rgba(255, 245, 224, 0.46);
  background: rgba(8, 14, 30, 0.56);
  box-shadow:
    0 0 0 1px rgba(255, 250, 238, 0.12) inset,
    0 10px 28px rgba(5, 9, 24, 0.44);
  backdrop-filter: blur(3px) saturate(1.08);
  color: rgba(255, 252, 244, 0.98);
  font-family: "Yu Mincho", "Hiragino Mincho ProN", serif;
  font-size: clamp(15px, 1.8vw, 24px);
  font-weight: 700;
  letter-spacing: 0.07em;
  line-height: 1.42;
  max-width: min(86vw, 760px);
  text-align: center;
  -webkit-text-stroke: 0.45px rgba(10, 16, 34, 0.7);
  text-shadow:
    0 0 3px rgba(12, 20, 44, 0.88),
    0 0 8px rgba(12, 20, 44, 0.62),
    0 0 12px rgba(255, 247, 225, 0.9),
    0 0 26px rgba(255, 182, 112, 0.48),
    0 0 36px rgba(111, 212, 255, 0.36);
  transform: translate(-50%, 0);
  animation: healHolyCommentReveal var(--heal-domain-duration, 3600ms) ease-out forwards;
  white-space: normal;
}

.attack-fx-card {
  position: fixed;
  left: 0;
  top: 0;
  width: clamp(120px, 17vw, 240px);
  aspect-ratio: 3 / 4;
  border-radius: 16px;
  border: 1px solid rgba(255, 232, 179, 0.72);
  box-shadow:
    0 0 46px rgba(255, 216, 131, 0.36),
    inset 0 0 24px rgba(255, 255, 255, 0.24);
  overflow: hidden;
  transform: translate(-50%, -50%);
  animation: attackCardFly 0.95s cubic-bezier(0.14, 0.84, 0.2, 1) forwards;
}

.attack-fx-card.critical-hit {
  border-color: rgba(255, 241, 192, 0.96);
  box-shadow:
    0 0 62px rgba(255, 230, 152, 0.64),
    0 0 24px rgba(255, 214, 126, 0.5),
    inset 0 0 32px rgba(255, 255, 255, 0.36);
}

.attack-fx-card.guard-critical {
  border-color: rgba(204, 237, 255, 0.95);
  box-shadow:
    0 0 54px rgba(173, 228, 255, 0.58),
    0 0 22px rgba(138, 211, 255, 0.45),
    inset 0 0 28px rgba(224, 247, 255, 0.34);
}

.attack-fx-card.life-burst-hit {
  border-color: rgba(255, 170, 170, 0.94);
  box-shadow:
    0 0 62px rgba(255, 94, 94, 0.62),
    0 0 24px rgba(255, 68, 68, 0.5),
    inset 0 0 30px rgba(255, 168, 168, 0.34);
}

.attack-fx-card.lancelate-aura {
  border-color: rgba(255, 244, 196, 0.97);
  box-shadow:
    0 0 76px rgba(255, 236, 174, 0.72),
    0 0 34px rgba(255, 214, 124, 0.62),
    inset 0 0 30px rgba(255, 251, 228, 0.42);
  animation:
    attackCardFly 0.95s cubic-bezier(0.14, 0.84, 0.2, 1) forwards,
    lancelateAttackAuraPulse 660ms ease-in-out infinite;
}

.attack-fx-card.lancelate-aura::after {
  content: "";
  position: absolute;
  inset: -8%;
  border-radius: 18px;
  background:
    radial-gradient(circle at 50% 50%, rgba(255, 250, 227, 0.32) 0%, rgba(255, 232, 164, 0.14) 56%, rgba(255, 232, 164, 0) 86%);
  mix-blend-mode: screen;
  pointer-events: none;
}

.attack-fx-card img {
  width: 100%;
  height: 100%;
  object-fit: cover;
  display: block;
}

.attack-fx-caster {
  position: fixed;
  left: 0;
  top: 0;
  width: clamp(120px, 16vw, 220px);
  aspect-ratio: 3 / 4;
  border-radius: 16px;
  border: 1px solid rgba(178, 236, 255, 0.84);
  box-shadow:
    0 0 56px rgba(133, 216, 255, 0.5),
    0 0 24px rgba(120, 189, 255, 0.38),
    inset 0 0 24px rgba(210, 247, 255, 0.26);
  overflow: hidden;
  transform: translate(-50%, -50%);
  animation: magicCasterPulse 0.98s cubic-bezier(0.18, 0.84, 0.2, 1) forwards;
}

.attack-fx-caster.critical-hit {
  border-color: rgba(255, 243, 196, 0.95);
  box-shadow:
    0 0 64px rgba(255, 229, 160, 0.64),
    0 0 30px rgba(255, 209, 132, 0.52),
    inset 0 0 28px rgba(255, 248, 214, 0.36);
}

.attack-fx-caster.incoming-hit {
  border-color: rgba(255, 168, 168, 0.92);
  box-shadow:
    0 0 56px rgba(255, 126, 126, 0.58),
    0 0 24px rgba(255, 94, 94, 0.46),
    inset 0 0 24px rgba(255, 190, 190, 0.3);
}

.attack-fx-caster.lancelate-aura {
  border-color: rgba(255, 244, 197, 0.95);
  box-shadow:
    0 0 78px rgba(255, 236, 175, 0.72),
    0 0 34px rgba(255, 208, 116, 0.62),
    inset 0 0 30px rgba(255, 251, 229, 0.42);
  animation:
    magicCasterPulse 0.98s cubic-bezier(0.18, 0.84, 0.2, 1) forwards,
    lancelateAttackAuraPulse 700ms ease-in-out infinite;
}

.attack-fx-caster.lancelate-aura::after {
  content: "";
  position: absolute;
  inset: -9%;
  border-radius: 20px;
  background:
    radial-gradient(circle at 50% 50%, rgba(255, 251, 231, 0.34) 0%, rgba(255, 228, 154, 0.16) 58%, rgba(255, 228, 154, 0) 88%);
  mix-blend-mode: screen;
  pointer-events: none;
}

.attack-fx-caster img {
  width: 100%;
  height: 100%;
  display: block;
  object-fit: cover;
  object-position: center top;
}

.attack-fx-beam {
  position: fixed;
  left: 0;
  top: 0;
  width: var(--fx-distance);
  height: clamp(10px, 1.8vw, 18px);
  border-radius: 999px;
  transform-origin: left center;
  transform: translate(0, -50%) rotate(var(--fx-angle));
  background: linear-gradient(
    90deg,
    rgba(215, 248, 255, 0.04) 0%,
    rgba(148, 233, 255, 0.95) 24%,
    rgba(118, 206, 255, 0.92) 56%,
    rgba(186, 237, 255, 0.22) 100%
  );
  box-shadow:
    0 0 18px rgba(150, 231, 255, 0.88),
    0 0 40px rgba(118, 198, 255, 0.56),
    0 0 74px rgba(145, 212, 255, 0.38);
  animation: magicBeamShoot 0.98s cubic-bezier(0.12, 0.84, 0.22, 1) forwards;
}

.attack-fx-beam.critical-hit {
  background: linear-gradient(
    90deg,
    rgba(255, 251, 225, 0.06) 0%,
    rgba(255, 244, 188, 0.98) 24%,
    rgba(255, 216, 122, 0.94) 56%,
    rgba(255, 236, 181, 0.26) 100%
  );
  box-shadow:
    0 0 20px rgba(255, 245, 187, 0.94),
    0 0 46px rgba(255, 214, 128, 0.68),
    0 0 84px rgba(255, 193, 110, 0.44);
}

.attack-fx-beam.incoming-hit {
  background: linear-gradient(
    90deg,
    rgba(255, 213, 213, 0.05) 0%,
    rgba(255, 149, 149, 0.96) 24%,
    rgba(255, 98, 98, 0.92) 56%,
    rgba(255, 168, 168, 0.22) 100%
  );
  box-shadow:
    0 0 20px rgba(255, 150, 150, 0.9),
    0 0 44px rgba(255, 92, 92, 0.7),
    0 0 80px rgba(255, 70, 70, 0.44);
}

.attack-fx-beam.lancelate-aura {
  height: clamp(12px, 2.05vw, 22px);
  background: linear-gradient(
    90deg,
    rgba(255, 244, 208, 0.08) 0%,
    rgba(255, 240, 189, 0.98) 24%,
    rgba(255, 211, 128, 0.94) 56%,
    rgba(255, 236, 171, 0.24) 100%
  );
  box-shadow:
    0 0 24px rgba(255, 242, 189, 0.94),
    0 0 52px rgba(255, 215, 128, 0.72),
    0 0 94px rgba(255, 196, 104, 0.5);
  animation:
    magicBeamShoot 0.98s cubic-bezier(0.12, 0.84, 0.22, 1) forwards,
    lancelateAttackBeamPulse 620ms ease-in-out infinite;
}

.attack-fx-chant {
  position: fixed;
  left: 0;
  top: 0;
  width: clamp(118px, 15vw, 210px);
  aspect-ratio: 3 / 4;
  border-radius: 16px;
  border: 1px solid rgba(178, 236, 255, 0.86);
  box-shadow:
    0 0 58px rgba(142, 226, 255, 0.56),
    0 0 26px rgba(122, 194, 255, 0.42),
    inset 0 0 24px rgba(212, 248, 255, 0.28);
  overflow: hidden;
  transform: translate(-50%, -50%);
  animation: magicChantFloat 0.56s cubic-bezier(0.18, 0.84, 0.2, 1) forwards;
}

.attack-fx-chant.critical-hit {
  border-color: rgba(255, 241, 186, 0.95);
  box-shadow:
    0 0 64px rgba(255, 232, 165, 0.66),
    0 0 30px rgba(255, 210, 134, 0.52),
    inset 0 0 28px rgba(255, 249, 222, 0.36);
}

.attack-fx-chant img {
  width: 100%;
  height: 100%;
  display: block;
  object-fit: cover;
  object-position: center top;
}

.attack-fx-chant-aura {
  position: fixed;
  left: 0;
  top: 0;
  width: clamp(120px, 16vw, 240px);
  aspect-ratio: 1;
  border-radius: 999px;
  pointer-events: none;
  background:
    radial-gradient(circle, rgba(210, 244, 255, 0.88) 0%, rgba(132, 221, 255, 0.42) 45%, rgba(102, 176, 255, 0) 72%);
  mix-blend-mode: screen;
  transform: translate(-50%, -50%);
  animation: magicChantAuraPulse 0.56s ease-out forwards;
}

.attack-fx-chant-aura.critical-hit {
  background:
    radial-gradient(circle, rgba(255, 244, 196, 0.9) 0%, rgba(255, 220, 144, 0.46) 45%, rgba(255, 188, 118, 0) 72%);
}

.attack-fx-ancient-glyph {
  position: fixed;
  left: 50%;
  top: 50%;
  width: min(88vmin, 920px);
  aspect-ratio: 1;
  border-radius: 50%;
  pointer-events: none;
  mix-blend-mode: normal;
  border: 3px solid rgba(228, 209, 255, 0.92);
  background:
    radial-gradient(circle, rgba(227, 214, 255, 0.14) 0%, rgba(138, 93, 214, 0.08) 45%, rgba(62, 33, 112, 0) 72%);
  box-shadow:
    0 0 46px rgba(203, 172, 255, 0.8),
    0 0 128px rgba(138, 83, 224, 0.58),
    inset 0 0 56px rgba(236, 223, 255, 0.22);
  transform: translate(-50%, -50%);
  animation: ancientGlyphAppear var(--ancient-glyph-duration, 620ms) ease-out forwards;
  overflow: visible;
}

.attack-fx-ancient-glyph::before {
  content: "";
  position: absolute;
  inset: -8%;
  border-radius: 50%;
  border: 2px solid rgba(214, 194, 255, 0.78);
  box-shadow:
    0 0 28px rgba(186, 146, 255, 0.56),
    inset 0 0 22px rgba(221, 201, 255, 0.16);
}

.attack-fx-ancient-runes {
  position: absolute;
  inset: -8%;
  overflow: visible;
  transform-origin: center;
  animation: ancientRuneWheelSpin 3.8s linear forwards;
}

.attack-fx-ancient-rune-ring {
  fill: none;
  stroke: rgba(236, 223, 255, 0.82);
  stroke-width: 0.66;
  stroke-dasharray: 0.9 1.5;
}

.attack-fx-ancient-rune-ring.secondary {
  stroke: rgba(216, 197, 255, 0.72);
  stroke-width: 0.56;
  stroke-dasharray: 0.7 1.2;
}

.attack-fx-ancient-rune-shape {
  fill: none;
  stroke: rgba(248, 240, 255, 0.95);
  stroke-width: 0.78;
  vector-effect: non-scaling-stroke;
  stroke-linejoin: round;
  stroke-linecap: round;
}

.attack-fx-ancient-rune-accent {
  fill: none;
  stroke: rgba(228, 204, 255, 0.88);
  stroke-width: 0.62;
  vector-effect: non-scaling-stroke;
  stroke-linejoin: round;
  stroke-linecap: round;
}

.attack-fx-ancient-star {
  position: absolute;
  inset: 13%;
  overflow: visible;
  filter:
    drop-shadow(0 0 14px rgba(226, 208, 255, 0.82))
    drop-shadow(0 0 34px rgba(163, 106, 247, 0.56));
}

.attack-fx-ancient-star-triangle {
  fill: none;
  stroke: rgba(248, 241, 255, 0.98);
  stroke-width: 3.1;
  vector-effect: non-scaling-stroke;
  stroke-linejoin: round;
  stroke-linecap: round;
}

.attack-fx-ancient-star-inner-circle {
  fill: none;
  stroke: rgba(244, 236, 255, 0.94);
  stroke-width: 2.8;
  vector-effect: non-scaling-stroke;
}

.attack-fx-ancient-star-pentagram {
  fill: none;
  stroke: rgba(250, 245, 255, 0.98);
  stroke-width: 2.15;
  vector-effect: non-scaling-stroke;
  stroke-linejoin: round;
  stroke-linecap: round;
}

.attack-fx-ancient-star-tip {
  fill: rgba(251, 247, 255, 0.96);
  stroke: rgba(231, 211, 255, 0.9);
  stroke-width: 0.76;
  vector-effect: non-scaling-stroke;
}

.attack-fx-ancient-star-tip.hex-tip {
  filter: drop-shadow(0 0 6px rgba(220, 188, 255, 0.8));
}

.attack-fx-ancient-star-tip.pent-tip {
  fill: rgba(246, 235, 255, 0.96);
  stroke: rgba(222, 197, 255, 0.88);
}

.attack-fx-ancient-hex-runes {
  transform-origin: center;
  animation: ancientRuneWheelSpin 3.4s linear reverse forwards;
}

.attack-fx-ancient-hex-rune-ring {
  fill: none;
  stroke: rgba(241, 230, 255, 0.84);
  stroke-width: 0.82;
  stroke-dasharray: 0.82 1.16;
}

.attack-fx-ancient-hex-rune-shape {
  fill: none;
  stroke: rgba(249, 242, 255, 0.96);
  stroke-width: 0.92;
  vector-effect: non-scaling-stroke;
  stroke-linejoin: round;
  stroke-linecap: round;
}

.attack-fx-ancient-hex-rune-accent {
  fill: none;
  stroke: rgba(230, 208, 255, 0.86);
  stroke-width: 0.72;
  vector-effect: non-scaling-stroke;
  stroke-linejoin: round;
  stroke-linecap: round;
}

.attack-fx-ancient-pent-runes {
  transform-origin: center;
  animation: ancientRuneWheelSpin 2.8s linear forwards;
}

.attack-fx-ancient-pent-rune-ring {
  fill: none;
  stroke: rgba(245, 236, 255, 0.9);
  stroke-width: 0.68;
  stroke-dasharray: 0.56 0.92;
}

.attack-fx-ancient-pent-rune-shape {
  fill: none;
  stroke: rgba(251, 246, 255, 0.98);
  stroke-width: 0.78;
  vector-effect: non-scaling-stroke;
  stroke-linejoin: round;
  stroke-linecap: round;
}

.attack-fx-ancient-pent-rune-core {
  fill: none;
  stroke: rgba(244, 228, 255, 0.9);
  stroke-width: 0.68;
  vector-effect: non-scaling-stroke;
  stroke-linejoin: round;
  stroke-linecap: round;
}

.attack-fx-ancient-space-runes {
  transform-origin: center;
}

.attack-fx-ancient-space-runes.outer-band {
  animation: ancientRuneWheelSpin 4.2s linear reverse forwards;
}

.attack-fx-ancient-space-runes.inner-band {
  animation: ancientRuneWheelSpin 3.2s linear forwards;
  opacity: 0.96;
}

.attack-fx-ancient-space-rune-ring {
  fill: none;
  stroke: rgba(241, 229, 255, 0.8);
  stroke-width: 0.62;
  vector-effect: non-scaling-stroke;
}

.attack-fx-ancient-space-rune-ring.outer-band {
  stroke-dasharray: 0.58 1.02;
}

.attack-fx-ancient-space-rune-ring.inner-band {
  stroke: rgba(236, 219, 255, 0.76);
  stroke-dasharray: 0.42 0.82;
}

.attack-fx-ancient-space-rune-shape {
  fill: none;
  stroke: rgba(249, 243, 255, 0.94);
  stroke-width: 0.72;
  vector-effect: non-scaling-stroke;
  stroke-linejoin: round;
  stroke-linecap: round;
}

.attack-fx-ancient-space-rune-accent {
  fill: none;
  stroke: rgba(228, 204, 255, 0.86);
  stroke-width: 0.62;
  vector-effect: non-scaling-stroke;
  stroke-linejoin: round;
  stroke-linecap: round;
}

.attack-fx-ancient-comment {
  position: absolute;
  left: 50%;
  bottom: 7%;
  margin: 0;
  padding: 0.42em 0.86em 0.46em;
  border-radius: 16px;
  border: 1px solid rgba(242, 226, 255, 0.48);
  background: rgba(12, 10, 30, 0.6);
  box-shadow:
    0 0 0 1px rgba(247, 239, 255, 0.12) inset,
    0 10px 28px rgba(8, 6, 22, 0.46);
  backdrop-filter: blur(3px) saturate(1.08);
  color: rgba(252, 246, 255, 0.98);
  font-family: "Yu Mincho", "Hiragino Mincho ProN", serif;
  font-size: clamp(15px, 1.75vw, 24px);
  font-weight: 700;
  letter-spacing: 0.07em;
  line-height: 1.42;
  max-width: min(86vw, 760px);
  text-align: center;
  -webkit-text-stroke: 0.44px rgba(14, 12, 40, 0.72);
  text-shadow:
    0 0 3px rgba(18, 14, 46, 0.9),
    0 0 8px rgba(18, 14, 46, 0.64),
    0 0 12px rgba(241, 231, 255, 0.88),
    0 0 24px rgba(188, 143, 255, 0.46),
    0 0 34px rgba(137, 198, 255, 0.34);
  transform: translate(-50%, 0);
  animation: ancientCommentReveal var(--ancient-glyph-duration, 620ms) ease-out forwards;
  white-space: normal;
}

.attack-fx-ancient-glyph.critical-hit .attack-fx-ancient-star-triangle {
  stroke: rgba(255, 250, 255, 1);
}

.attack-fx-ancient-glyph.critical-hit .attack-fx-ancient-star-inner-circle {
  stroke: rgba(255, 253, 255, 1);
}

.attack-fx-ancient-glyph.critical-hit .attack-fx-ancient-star-pentagram {
  stroke: rgba(255, 254, 255, 1);
}

.attack-fx-ancient-glyph.critical-hit .attack-fx-ancient-star-tip {
  fill: rgba(255, 252, 255, 1);
  stroke: rgba(244, 226, 255, 0.98);
}

.attack-fx-ancient-glyph.critical-hit .attack-fx-ancient-hex-rune-shape {
  stroke: rgba(255, 251, 255, 1);
}

.attack-fx-ancient-glyph.critical-hit .attack-fx-ancient-hex-rune-accent {
  stroke: rgba(251, 235, 255, 0.98);
}

.attack-fx-ancient-glyph.critical-hit .attack-fx-ancient-pent-rune-shape {
  stroke: rgba(255, 252, 255, 1);
}

.attack-fx-ancient-glyph.critical-hit .attack-fx-ancient-pent-rune-core {
  stroke: rgba(253, 241, 255, 0.98);
}

.attack-fx-ancient-glyph.critical-hit .attack-fx-ancient-rune-shape {
  stroke: rgba(255, 251, 255, 1);
}

.attack-fx-ancient-glyph.critical-hit .attack-fx-ancient-rune-accent {
  stroke: rgba(248, 231, 255, 0.96);
}

.attack-fx-ancient-glyph.critical-hit .attack-fx-ancient-space-rune-ring {
  stroke: rgba(249, 236, 255, 0.95);
}

.attack-fx-ancient-glyph.critical-hit .attack-fx-ancient-space-rune-shape {
  stroke: rgba(255, 251, 255, 1);
}

.attack-fx-ancient-glyph.critical-hit .attack-fx-ancient-space-rune-accent {
  stroke: rgba(248, 230, 255, 0.98);
}

.attack-fx-ancient-glyph.critical-hit {
  border-color: rgba(251, 242, 255, 0.97);
  box-shadow:
    0 0 56px rgba(234, 213, 255, 0.9),
    0 0 154px rgba(167, 104, 250, 0.7),
    inset 0 0 66px rgba(245, 236, 255, 0.34);
}

.attack-fx-spellblade-glyph {
  position: fixed;
  left: 50%;
  top: 50%;
  width: min(90vmin, 900px);
  aspect-ratio: 1;
  pointer-events: none;
  transform: translate(-50%, -50%);
  transform-origin: center;
  animation: spellbladeGlyphAppear var(--spellblade-duration, 6760ms) ease-out forwards;
}

.attack-fx-spellblade-glyph.critical-hit {
  filter:
    brightness(1.12)
    saturate(1.1)
    drop-shadow(0 0 28px rgba(255, 228, 179, 0.54));
}

.attack-fx-spellblade-field {
  width: 100%;
  height: 100%;
  border-radius: 50%;
  display: grid;
  place-items: center;
  position: relative;
  background:
    radial-gradient(circle, rgba(255, 205, 244, 0.23) 0%, rgba(121, 165, 255, 0.14) 48%, rgba(0, 0, 0, 0) 72%);
}

.attack-fx-spellblade-aura-ring {
  position: absolute;
  inset: 7%;
  border-radius: 50%;
  border: 2px solid rgba(244, 228, 255, 0.46);
  box-shadow:
    0 0 24px rgba(255, 167, 236, 0.34),
    0 0 44px rgba(122, 200, 255, 0.28),
    inset 0 0 24px rgba(192, 173, 255, 0.24);
  animation: spellbladeAuraPulse 2.8s ease-in-out infinite;
}

.attack-fx-spellblade-emblem {
  width: min(84%, 560px);
  height: min(84%, 560px);
  overflow: visible;
  filter:
    drop-shadow(0 0 18px rgba(255, 150, 220, 0.46))
    drop-shadow(0 0 42px rgba(123, 193, 255, 0.34));
  animation: spellbladeEmblemSpin var(--spellblade-primary-duration, 6420ms) ease-out forwards;
}

.attack-fx-spellblade-glyph .ring-line {
  fill: none;
  stroke: url(#rainbowStrokeStrong);
  stroke-width: 2.2;
  vector-effect: non-scaling-stroke;
}

.attack-fx-spellblade-glyph .hexagram {
  opacity: 0.82;
  filter:
    drop-shadow(0 0 10px rgba(255, 172, 228, 0.4))
    drop-shadow(0 0 20px rgba(119, 196, 255, 0.26));
}

.attack-fx-spellblade-glyph .hexagram.outer {
  opacity: 0.6;
  filter: drop-shadow(0 0 8px rgba(164, 201, 255, 0.3));
  animation: spellbladeHexScatterOuter var(--spellblade-primary-duration, 6420ms) cubic-bezier(0.16, 0.7, 0.2, 1)
    forwards;
}

.attack-fx-spellblade-glyph .hexagram.outer-2 {
  opacity: 0.42;
  filter: drop-shadow(0 0 6px rgba(255, 165, 219, 0.28));
  animation: spellbladeHexScatterOuter2 var(--spellblade-secondary-duration, 6880ms) cubic-bezier(0.16, 0.7, 0.2, 1)
    forwards;
}

.attack-fx-spellblade-glyph .hexagram.core {
  animation: spellbladeHexCoreExpand var(--spellblade-primary-duration, 6420ms) cubic-bezier(0.12, 0.7, 0.18, 1)
    forwards;
}

.attack-fx-spellblade-glyph .hexagram.outer .hexagram-line {
  stroke: url(#rainbowStrokeSoft);
  stroke-width: 2.05;
}

.attack-fx-spellblade-glyph .hexagram.outer-2 .hexagram-line {
  stroke: url(#rainbowStrokeFaint);
  stroke-width: 1.75;
}

.attack-fx-spellblade-glyph .hexagram.outer .hexagram-tip-rings {
  opacity: 0.8;
}

.attack-fx-spellblade-glyph .hexagram.outer-2 .hexagram-tip-rings {
  opacity: 0.68;
}

.attack-fx-spellblade-glyph .hexagram,
.attack-fx-spellblade-glyph .hexagram-valley-pack {
  transform-box: view-box;
  transform-origin: 50% 50%;
}

.attack-fx-spellblade-glyph .hexagram-valley-pack {
  opacity: 0.74;
  filter: drop-shadow(0 0 6px rgba(170, 224, 255, 0.28));
  animation: spellbladeValleyPackDrift var(--spellblade-primary-duration, 6420ms) ease-out forwards;
}

.attack-fx-spellblade-glyph .hexagram-valley-pack.orbit {
  opacity: 0.56;
  filter: drop-shadow(0 0 5px rgba(255, 166, 223, 0.22));
  animation: spellbladeValleyPackDriftOrbit var(--spellblade-secondary-duration, 6880ms) ease-out forwards;
}

.attack-fx-spellblade-glyph .hexagram-valley-pack .valley-shard {
  transform-box: fill-box;
  transform-origin: center;
  animation: spellbladeValleyScatter var(--spellblade-primary-duration, 6420ms) cubic-bezier(0.14, 0.72, 0.19, 1)
    forwards;
  animation-delay: var(--scatter-delay, 0s);
}

.attack-fx-spellblade-glyph .hexagram-valley-pack:not(.orbit) .shard-1 {
  --dx: -78px;
  --dy: -100px;
  --rot: -30deg;
  --scatter-delay: 0.04s;
}

.attack-fx-spellblade-glyph .hexagram-valley-pack:not(.orbit) .shard-2 {
  --dx: 78px;
  --dy: -100px;
  --rot: 30deg;
  --scatter-delay: 0.12s;
}

.attack-fx-spellblade-glyph .hexagram-valley-pack:not(.orbit) .shard-3 {
  --dx: -116px;
  --dy: 0;
  --rot: -24deg;
  --scatter-delay: 0.2s;
}

.attack-fx-spellblade-glyph .hexagram-valley-pack:not(.orbit) .shard-4 {
  --dx: 116px;
  --dy: 0;
  --rot: 24deg;
  --scatter-delay: 0.28s;
}

.attack-fx-spellblade-glyph .hexagram-valley-pack:not(.orbit) .shard-5 {
  --dx: -78px;
  --dy: 100px;
  --rot: -28deg;
  --scatter-delay: 0.36s;
}

.attack-fx-spellblade-glyph .hexagram-valley-pack:not(.orbit) .shard-6 {
  --dx: 78px;
  --dy: 100px;
  --rot: 28deg;
  --scatter-delay: 0.44s;
}

.attack-fx-spellblade-glyph .hexagram-valley-pack.orbit .shard-1 {
  --dx: -130px;
  --dy: -24px;
  --rot: -40deg;
  --scatter-delay: 0.06s;
}

.attack-fx-spellblade-glyph .hexagram-valley-pack.orbit .shard-2 {
  --dx: 130px;
  --dy: -24px;
  --rot: 40deg;
  --scatter-delay: 0.14s;
}

.attack-fx-spellblade-glyph .hexagram-valley-pack.orbit .shard-3 {
  --dx: -92px;
  --dy: -132px;
  --rot: -34deg;
  --scatter-delay: 0.22s;
}

.attack-fx-spellblade-glyph .hexagram-valley-pack.orbit .shard-4 {
  --dx: 92px;
  --dy: -132px;
  --rot: 34deg;
  --scatter-delay: 0.3s;
}

.attack-fx-spellblade-glyph .hexagram-valley-pack.orbit .shard-5 {
  --dx: -92px;
  --dy: 132px;
  --rot: -34deg;
  --scatter-delay: 0.38s;
}

.attack-fx-spellblade-glyph .hexagram-valley-pack.orbit .shard-6 {
  --dx: 92px;
  --dy: 132px;
  --rot: 34deg;
  --scatter-delay: 0.46s;
}

.attack-fx-spellblade-glyph .hex-valley-line {
  fill: none;
  stroke: url(#rainbowStrokeSoft);
  stroke-width: 1.36;
  vector-effect: non-scaling-stroke;
  stroke-linejoin: round;
  stroke-linecap: round;
}

.attack-fx-spellblade-glyph .hex-valley-line.large {
  stroke: url(#rainbowStrokeFaint);
  stroke-width: 1.08;
}

.attack-fx-spellblade-glyph .hex-valley-tip {
  fill: none;
  stroke: url(#rainbowStrokeSoft);
  vector-effect: non-scaling-stroke;
}

.attack-fx-spellblade-glyph .hex-valley-tip.outer {
  stroke-width: 0.96;
}

.attack-fx-spellblade-glyph .hex-valley-tip.middle {
  stroke-width: 0.82;
  stroke: url(#rainbowStrokeFaint);
}

.attack-fx-spellblade-glyph .hex-valley-tip.inner {
  stroke-width: 0.74;
  stroke: url(#rainbowStrokeStrong);
}

.attack-fx-spellblade-glyph .hex-valley-tip.large.outer {
  stroke-width: 0.82;
  stroke: url(#rainbowStrokeFaint);
}

.attack-fx-spellblade-glyph .hex-valley-tip.large.middle {
  stroke-width: 0.7;
  stroke: url(#rainbowStrokeFaint);
}

.attack-fx-spellblade-glyph .hex-valley-tip.large.inner {
  stroke-width: 0.62;
  stroke: url(#rainbowStrokeSoft);
}

.attack-fx-spellblade-glyph .hexagram-line {
  fill: none;
  stroke: url(#rainbowStrokeMain);
  stroke-width: 2.4;
  vector-effect: non-scaling-stroke;
  stroke-linejoin: round;
  stroke-linecap: round;
}

.attack-fx-spellblade-glyph .hexagram-tip-rings {
  opacity: 0.9;
}

.attack-fx-spellblade-glyph .hex-tip-circle {
  fill: none;
  stroke: url(#rainbowStrokeMain);
  vector-effect: non-scaling-stroke;
}

.attack-fx-spellblade-glyph .hex-tip-circle.outer {
  stroke-width: 1.35;
}

.attack-fx-spellblade-glyph .hex-tip-circle.middle {
  stroke-width: 1.15;
  stroke: url(#rainbowStrokeSoft);
}

.attack-fx-spellblade-glyph .hex-tip-circle.inner {
  stroke-width: 1.05;
  stroke: url(#rainbowStrokeStrong);
}

.attack-fx-spellblade-glyph .hexagram-inner-runes {
  opacity: 0.9;
}

.attack-fx-spellblade-glyph .hex-inner-ring {
  fill: none;
  stroke: url(#rainbowStrokeSoft);
  vector-effect: non-scaling-stroke;
}

.attack-fx-spellblade-glyph .hex-inner-ring.outer {
  stroke-width: 1.25;
}

.attack-fx-spellblade-glyph .hex-inner-ring.inner {
  stroke-width: 1.1;
  stroke: url(#rainbowStrokeFaint);
}

.attack-fx-spellblade-glyph .hex-rune-stroke {
  fill: none;
  stroke: url(#rainbowStrokeMain);
  stroke-width: 1.3;
  vector-effect: non-scaling-stroke;
  stroke-linecap: round;
  stroke-linejoin: round;
}

.attack-fx-spellblade-glyph .hex-rune-accent {
  fill: none;
  stroke: url(#rainbowStrokeSoft);
  stroke-width: 1.12;
  vector-effect: non-scaling-stroke;
  stroke-linecap: round;
  stroke-linejoin: round;
}

.attack-fx-spellblade-glyph .hex-center-sigil {
  fill: none;
  stroke: url(#rainbowStrokeStrong);
  stroke-width: 1.45;
  vector-effect: non-scaling-stroke;
  stroke-linecap: round;
  stroke-linejoin: round;
}

.attack-fx-spellblade-glyph .hex-rune-wheel.outer {
  transform-origin: 300px 300px;
  animation: spellbladeRuneWheelOuter var(--spellblade-secondary-duration, 6880ms) linear forwards;
}

.attack-fx-spellblade-glyph .hex-rune-wheel.inner {
  transform-origin: 300px 300px;
  animation: spellbladeRuneWheelInner var(--spellblade-secondary-duration, 6880ms) linear forwards;
}

.attack-fx-spellblade-glyph .sword .blade {
  fill: url(#bladeGradient);
  stroke: url(#rainbowStrokeStrong);
  stroke-width: 1.5;
  vector-effect: non-scaling-stroke;
}

.attack-fx-spellblade-glyph .sword .fuller {
  stroke: url(#rainbowStrokeMain);
  stroke-width: 1.8;
  stroke-linecap: round;
  vector-effect: non-scaling-stroke;
  opacity: 0.95;
}

.attack-fx-spellblade-glyph .sword .guard {
  fill: url(#guardGradient);
  stroke: url(#rainbowStrokeMain);
  stroke-width: 1.4;
  vector-effect: non-scaling-stroke;
}

.attack-fx-spellblade-glyph .sword .hilt {
  fill: rgba(65, 48, 86, 0.95);
  stroke: url(#rainbowStrokeSoft);
  stroke-width: 1.2;
  vector-effect: non-scaling-stroke;
}

.attack-fx-spellblade-glyph .sword .pommel {
  fill: url(#pommelGradient);
  stroke: url(#rainbowStrokeStrong);
  stroke-width: 1.1;
  vector-effect: non-scaling-stroke;
}

.attack-fx-spellblade-glyph .sword-etch-line {
  fill: none;
  stroke: url(#rainbowStrokeMain);
  stroke-width: 1.08;
  vector-effect: non-scaling-stroke;
  stroke-linecap: round;
  stroke-linejoin: round;
  opacity: 0.95;
}

.attack-fx-spellblade-glyph .sword-etch-accent {
  fill: none;
  stroke: url(#rainbowStrokeSoft);
  stroke-width: 0.96;
  vector-effect: non-scaling-stroke;
  stroke-linecap: round;
  stroke-linejoin: round;
  opacity: 0.9;
}

.attack-fx-spellblade-glyph .sword-guard-rune {
  fill: none;
  stroke: url(#rainbowStrokeMain);
  stroke-width: 1.02;
  vector-effect: non-scaling-stroke;
  stroke-linecap: round;
  stroke-linejoin: round;
}

.attack-fx-spellblade-glyph .sword-hilt-rune {
  fill: none;
  stroke: url(#rainbowStrokeSoft);
  stroke-width: 0.98;
  vector-effect: non-scaling-stroke;
  stroke-linecap: round;
  stroke-linejoin: round;
}

.attack-fx-spellblade-glyph .sword-a {
  transform-box: view-box;
  transform-origin: 50% 50%;
  transform: rotate(-34deg);
  animation: spellbladeSwordLaunchA var(--spellblade-primary-duration, 6420ms) cubic-bezier(0.14, 0.66, 0.2, 1)
    forwards;
}

.attack-fx-spellblade-glyph .sword-b {
  transform-box: view-box;
  transform-origin: 50% 50%;
  transform: rotate(34deg);
  animation: spellbladeSwordLaunchB var(--spellblade-primary-duration, 6420ms) cubic-bezier(0.14, 0.66, 0.2, 1)
    forwards;
}

.attack-fx-spellblade-glyph .impact-core {
  fill: url(#rainbowCoreGradient);
  filter:
    drop-shadow(0 0 14px rgba(255, 171, 232, 0.8))
    drop-shadow(0 0 24px rgba(118, 205, 255, 0.54));
}

.attack-fx-spellblade-glyph .impact-rays {
  fill: none;
  stroke: url(#rainbowStrokeStrong);
  stroke-width: 2.8;
  vector-effect: non-scaling-stroke;
  stroke-linecap: round;
  opacity: 0.85;
  animation: spellbladeRayBlink 1.9s ease-in-out infinite;
}

.attack-fx-spellblade-cross-wave {
  position: absolute;
  inset: 13%;
  border-radius: 50%;
  border: 1px solid rgba(238, 229, 255, 0.78);
  box-shadow:
    0 0 20px rgba(255, 173, 226, 0.38),
    0 0 32px rgba(111, 199, 255, 0.32),
    inset 0 0 24px rgba(196, 163, 255, 0.24);
  opacity: 0;
  animation: spellbladeCrossWave var(--spellblade-wave-duration, 1620ms) ease-out 1;
}

.attack-fx-burst {
  position: fixed;
  left: 0;
  top: 0;
  width: clamp(130px, 18vw, 260px);
  aspect-ratio: 1;
  border-radius: 999px;
  opacity: 0;
  mix-blend-mode: screen;
  transform: translate(-50%, -50%);
  animation: attackBurstPulse 0.95s ease-out 0.56s forwards;
}

.attack-fx-burst.physical-hit {
  background:
    radial-gradient(circle, rgba(255, 239, 181, 0.95) 0%, rgba(255, 188, 106, 0.5) 45%, rgba(255, 140, 93, 0)
      72%);
}

.attack-fx-burst.magic-hit {
  background:
    radial-gradient(circle, rgba(212, 233, 255, 0.95) 0%, rgba(142, 181, 255, 0.52) 45%, rgba(104, 144, 255, 0)
      72%);
}

.attack-fx-burst.legion-hit {
  background:
    radial-gradient(circle, rgba(255, 246, 209, 0.98) 0%, rgba(255, 196, 128, 0.56) 40%, rgba(165, 199, 255, 0.46)
      62%, rgba(118, 150, 255, 0) 78%);
}

.attack-fx-burst.gale-hit {
  background:
    radial-gradient(circle, rgba(221, 255, 247, 0.98) 0%, rgba(147, 255, 229, 0.6) 36%, rgba(94, 225, 255, 0.45) 58%,
      rgba(112, 178, 255, 0) 78%);
}

.attack-fx-burst.reversal-hit {
  background:
    radial-gradient(circle, rgba(255, 240, 225, 0.98) 0%, rgba(255, 194, 231, 0.58) 36%, rgba(212, 175, 255, 0.44) 58%,
      rgba(141, 166, 255, 0) 78%);
}

.attack-fx-burst.life-burst-hit {
  background:
    radial-gradient(circle, rgba(255, 224, 224, 0.98) 0%, rgba(255, 132, 132, 0.62) 38%, rgba(255, 86, 86, 0.44) 58%,
      rgba(255, 138, 138, 0) 78%);
}

.attack-fx-burst.critical-hit {
  background:
    radial-gradient(circle, rgba(255, 249, 215, 0.98) 0%, rgba(255, 210, 136, 0.62) 38%, rgba(255, 166, 90, 0.32)
      60%, rgba(255, 125, 90, 0) 78%);
}

.attack-fx-burst.guard-critical {
  background:
    radial-gradient(circle, rgba(228, 246, 255, 0.98) 0%, rgba(167, 224, 255, 0.64) 38%, rgba(126, 192, 255, 0.34)
      60%, rgba(96, 165, 255, 0) 78%);
}

.attack-fx-burst.lancelate-aura {
  background:
    radial-gradient(circle, rgba(255, 244, 210, 0.99) 0%, rgba(255, 212, 128, 0.62) 38%, rgba(255, 171, 94, 0.36) 58%,
      rgba(255, 144, 92, 0) 78%);
  box-shadow:
    0 0 34px rgba(255, 232, 166, 0.72),
    0 0 68px rgba(255, 187, 103, 0.56);
  animation:
    attackBurstPulse 0.95s ease-out 0.56s forwards,
    lancelateAttackBeamPulse 780ms ease-in-out 0.56s infinite;
}

.attack-fx-damage {
  position: fixed;
  left: 0;
  top: 0;
  margin: 0;
  font-family: "Avenir Next", "Yu Gothic", sans-serif;
  font-weight: 800;
  line-height: 1;
  font-size: clamp(2.8rem, 9vw, 6.6rem);
  color: #fff7d9;
  text-shadow:
    0 0 10px rgba(255, 220, 133, 0.92),
    0 0 36px rgba(255, 159, 103, 0.62),
    0 2px 2px rgba(0, 0, 0, 0.5);
  opacity: 0;
  transform: translate(-50%, -40%) scale(0.5);
  animation: damagePopRise 1.65s cubic-bezier(0.15, 0.76, 0.23, 1) 0.56s forwards;
}

.attack-fx-damage.enemy-under-art {
  transform: translate(-50%, 0) scale(0.5);
  animation: damagePopUnderEnemy 1.65s cubic-bezier(0.15, 0.76, 0.23, 1) 0.56s forwards;
}

.attack-fx-damage.final-hit {
  color: #fff9de;
  text-shadow:
    0 0 12px rgba(255, 236, 171, 0.94),
    0 0 38px rgba(255, 184, 96, 0.74),
    0 0 56px rgba(255, 150, 88, 0.52);
}

.attack-fx-damage.legion-hit {
  color: #ffecd7;
  text-shadow:
    0 0 12px rgba(255, 238, 183, 0.95),
    0 0 42px rgba(255, 156, 116, 0.7),
    0 0 56px rgba(180, 211, 255, 0.45);
}

.attack-fx-damage.gale-hit {
  color: #defcff;
  text-shadow:
    0 0 12px rgba(205, 255, 245, 0.96),
    0 0 42px rgba(120, 232, 255, 0.74),
    0 0 60px rgba(122, 181, 255, 0.5);
}

.attack-fx-damage.reversal-hit {
  color: #ffe5ff;
  text-shadow:
    0 0 12px rgba(255, 216, 255, 0.96),
    0 0 42px rgba(228, 170, 255, 0.74),
    0 0 60px rgba(158, 181, 255, 0.5);
}

.attack-fx-damage.life-burst-hit {
  color: #ffd7d7;
  text-shadow:
    0 0 12px rgba(255, 188, 188, 0.96),
    0 0 44px rgba(255, 96, 96, 0.8),
    0 0 62px rgba(184, 34, 34, 0.56);
}

.attack-fx-damage.incoming-hit {
  color: #ff6a6a;
  text-shadow:
    0 0 12px rgba(255, 140, 140, 0.95),
    0 0 42px rgba(255, 68, 68, 0.74),
    0 0 56px rgba(170, 24, 24, 0.5);
}

.attack-fx-damage.critical-hit {
  color: #ffeaa9;
  text-shadow:
    0 0 14px rgba(255, 244, 190, 0.96),
    0 0 42px rgba(255, 196, 95, 0.8),
    0 0 64px rgba(255, 160, 82, 0.58);
}

.attack-fx-damage.guard-critical {
  color: #c9ecff;
  text-shadow:
    0 0 12px rgba(203, 241, 255, 0.95),
    0 0 36px rgba(145, 217, 255, 0.78),
    0 0 52px rgba(109, 181, 255, 0.54);
}

.attack-fx-hit-label {
  position: fixed;
  left: 0;
  top: 0;
  margin: 0;
  font-family: "Avenir Next", "Yu Gothic", sans-serif;
  font-weight: 800;
  line-height: 1;
  font-size: clamp(1.1rem, 3vw, 2rem);
  letter-spacing: 0.12em;
  color: #fff2c9;
  text-shadow:
    0 0 10px rgba(255, 228, 149, 0.9),
    0 0 30px rgba(255, 177, 99, 0.56),
    0 2px 4px rgba(0, 0, 0, 0.5);
  opacity: 0;
  transform: translate(-50%, -50%) scale(0.72);
  animation: damagePopRise 1.45s cubic-bezier(0.15, 0.76, 0.23, 1) 0.45s forwards;
}

.attack-fx-hit-label.critical-hit {
  color: #ffefba;
  text-shadow:
    0 0 12px rgba(255, 245, 188, 0.98),
    0 0 34px rgba(255, 205, 111, 0.72),
    0 2px 6px rgba(0, 0, 0, 0.56);
}

.attack-pre-fx-panel {
  position: fixed;
  left: 0;
  top: 0;
  transform: translate(-50%, -50%);
  min-width: clamp(182px, 24vw, 280px);
  padding: 10px 14px 12px;
  border-radius: 12px;
  border: 1px solid rgba(255, 223, 156, 0.74);
  background:
    linear-gradient(160deg, rgba(22, 18, 12, 0.92), rgba(15, 12, 9, 0.94)),
    radial-gradient(circle at 24% 20%, rgba(255, 242, 197, 0.18), transparent 56%);
  box-shadow:
    0 16px 32px rgba(0, 0, 0, 0.5),
    0 0 24px rgba(255, 210, 136, 0.26),
    inset 0 0 20px rgba(255, 246, 209, 0.1);
  animation: preAttackPanelIn 0.22s ease-out forwards;
}

.attack-pre-fx-panel.critical-hit {
  border-color: rgba(255, 236, 182, 0.96);
  box-shadow:
    0 16px 32px rgba(0, 0, 0, 0.5),
    0 0 28px rgba(255, 231, 158, 0.42),
    inset 0 0 24px rgba(255, 250, 218, 0.18);
}

.attack-pre-fx-panel.legion-hit {
  border-color: rgba(255, 247, 209, 0.95);
}

.attack-pre-fx-panel.gale-hit {
  border-color: rgba(190, 255, 243, 0.94);
  box-shadow:
    0 16px 32px rgba(0, 0, 0, 0.5),
    0 0 28px rgba(128, 236, 255, 0.42),
    inset 0 0 24px rgba(214, 255, 246, 0.16);
}

.attack-pre-fx-panel.reversal-hit {
  border-color: rgba(246, 206, 255, 0.94);
  box-shadow:
    0 16px 32px rgba(0, 0, 0, 0.5),
    0 0 28px rgba(230, 158, 255, 0.42),
    inset 0 0 24px rgba(246, 224, 255, 0.16);
}

.attack-pre-fx-panel.life-burst-hit {
  border-color: rgba(255, 176, 176, 0.94);
  box-shadow:
    0 16px 32px rgba(0, 0, 0, 0.5),
    0 0 30px rgba(255, 96, 96, 0.48),
    inset 0 0 24px rgba(255, 206, 206, 0.2);
}

.attack-pre-fx-step {
  margin: 0;
  color: #eeddbd;
  font-family: "Avenir Next", "Yu Gothic", sans-serif;
  font-size: clamp(0.72rem, 1.25vw, 0.92rem);
  letter-spacing: 0.08em;
}

.attack-pre-fx-value {
  margin: 3px 0 0;
  font-family: "Avenir Next", "Yu Gothic", sans-serif;
  font-weight: 800;
  line-height: 1;
  font-size: clamp(1.8rem, 4.8vw, 3rem);
  color: #fff1cc;
  text-shadow:
    0 0 12px rgba(255, 226, 149, 0.86),
    0 0 30px rgba(255, 172, 99, 0.66),
    0 2px 6px rgba(0, 0, 0, 0.56);
}

.attack-pre-fx-panel.final-phase .attack-pre-fx-step {
  color: #fff6db;
}

.attack-pre-fx-panel.final-phase .attack-pre-fx-value {
  color: #fffdf4;
  text-shadow:
    0 0 14px rgba(255, 245, 194, 0.96),
    0 0 40px rgba(255, 196, 105, 0.8),
    0 2px 8px rgba(0, 0, 0, 0.62);
}

.floating-log {
  position: fixed;
  left: 50%;
  top: 50%;
  z-index: 86;
  width: min(82vw, 940px);
  margin: 0;
  padding: clamp(0.74rem, 1.9vw, 1.24rem) clamp(1rem, 3.2vw, 1.9rem);
  border: 1px solid rgba(255, 228, 176, 0.56);
  border-radius: 16px;
  background:
    radial-gradient(circle at 18% 8%, rgba(255, 243, 203, 0.22) 0%, rgba(255, 243, 203, 0) 52%),
    radial-gradient(circle at 84% 92%, rgba(255, 211, 151, 0.18) 0%, rgba(255, 211, 151, 0) 56%),
    linear-gradient(145deg, rgba(28, 21, 12, 0.9) 0%, rgba(42, 30, 16, 0.78) 56%, rgba(25, 18, 10, 0.9) 100%);
  color: #fff2d8;
  text-align: center;
  font-family: "Hiragino Mincho ProN", "Yu Mincho", "BIZ UDPMincho", serif;
  font-weight: 700;
  line-height: 1.45;
  font-size: clamp(1.02rem, 2.2vw, 1.42rem);
  letter-spacing: 0.035em;
  white-space: pre-wrap;
  overflow: hidden;
  box-shadow:
    0 0 0 1px rgba(255, 244, 217, 0.14),
    0 16px 38px rgba(8, 6, 3, 0.54),
    0 0 26px rgba(255, 201, 114, 0.24);
  backdrop-filter: blur(5px) saturate(1.08);
  -webkit-backdrop-filter: blur(5px) saturate(1.08);
  text-shadow:
    0 0 11px rgba(255, 223, 165, 0.5),
    0 0 24px rgba(255, 189, 115, 0.34),
    0 2px 8px rgba(0, 0, 0, 0.66);
  opacity: 0;
  transform: translate(-50%, -100%) scale(0.95);
  transition:
    opacity 0.24s ease,
    transform 0.24s ease,
    filter 0.24s ease,
    border-color 0.24s ease,
    box-shadow 0.24s ease;
  cursor: pointer;
  user-select: none;
}

.floating-log::before {
  content: "";
  position: absolute;
  inset: 6px;
  border-radius: 12px;
  border: 1px solid rgba(255, 241, 207, 0.2);
  box-shadow: inset 0 0 16px rgba(255, 230, 178, 0.12);
  pointer-events: none;
}

.floating-log::after {
  content: "";
  position: absolute;
  inset: -42%;
  background:
    radial-gradient(circle, rgba(255, 241, 214, 0.22) 0%, rgba(255, 241, 214, 0) 58%);
  mix-blend-mode: screen;
  opacity: 0.34;
  transform: translateY(-8%) rotate(6deg);
  pointer-events: none;
  animation: floatingLogNodeAura 3.2s ease-in-out infinite;
}

.floating-log.is-visible {
  opacity: 1;
  transform: translate(-50%, -100%) scale(1);
}

.floating-log.is-hiding {
  opacity: 0;
  transform: translate(-50%, -100%) scale(0.96);
}

.floating-log.has-damage-focus {
  text-align: center;
}

.floating-log-damage {
  display: block;
  margin: 0 0 0.22em;
  font-family: "Trajan Pro", "Cinzel", "Yu Mincho", serif;
  font-size: clamp(1.32rem, 4.6vw, 2.62rem);
  font-weight: 700;
  line-height: 1.03;
  letter-spacing: 0.065em;
  color: #fff7d8;
  text-shadow:
    0 0 12px rgba(255, 242, 194, 0.9),
    0 0 30px rgba(255, 209, 118, 0.62),
    0 2px 10px rgba(0, 0, 0, 0.78);
}

.floating-log-body {
  display: block;
  font-size: clamp(0.9rem, 1.95vw, 1.22rem);
  line-height: 1.4;
}

.floating-log.warn {
  color: #ffe1a6;
  border-color: rgba(255, 208, 123, 0.72);
  box-shadow:
    0 0 0 1px rgba(255, 236, 182, 0.2),
    0 16px 38px rgba(16, 9, 3, 0.58),
    0 0 30px rgba(255, 181, 92, 0.3);
}

.floating-log.alert {
  color: #ff9898;
  border-color: rgba(255, 134, 134, 0.74);
  box-shadow:
    0 0 0 1px rgba(255, 187, 187, 0.2),
    0 16px 38px rgba(16, 5, 5, 0.6),
    0 0 32px rgba(255, 108, 108, 0.34);
  text-shadow:
    0 0 12px rgba(255, 149, 149, 0.74),
    0 0 24px rgba(255, 95, 95, 0.45),
    0 2px 8px rgba(0, 0, 0, 0.72);
}

.floating-log.good {
  color: #d8f6de;
  border-color: rgba(147, 241, 187, 0.74);
  box-shadow:
    0 0 0 1px rgba(206, 255, 224, 0.2),
    0 16px 38px rgba(4, 12, 8, 0.58),
    0 0 30px rgba(112, 227, 162, 0.32);
  text-shadow:
    0 0 12px rgba(194, 255, 213, 0.68),
    0 0 24px rgba(120, 224, 163, 0.36),
    0 2px 8px rgba(0, 0, 0, 0.66);
}

.floating-log.crit {
  color: #ffe8a8;
  border-color: rgba(255, 220, 127, 0.78);
  box-shadow:
    0 0 0 1px rgba(255, 241, 194, 0.24),
    0 16px 38px rgba(16, 11, 2, 0.6),
    0 0 34px rgba(255, 190, 88, 0.38);
  text-shadow:
    0 0 14px rgba(255, 239, 174, 0.9),
    0 0 34px rgba(255, 203, 108, 0.62),
    0 2px 10px rgba(0, 0, 0, 0.74);
}

.floating-log.warn .floating-log-damage {
  color: #ffeac3;
}

.floating-log.alert .floating-log-damage {
  color: #ffc3c3;
  text-shadow:
    0 0 12px rgba(255, 189, 189, 0.86),
    0 0 30px rgba(255, 125, 125, 0.6),
    0 2px 10px rgba(0, 0, 0, 0.78);
}

.floating-log.good .floating-log-damage {
  color: #dfffe8;
  text-shadow:
    0 0 12px rgba(205, 255, 222, 0.86),
    0 0 30px rgba(125, 235, 177, 0.56),
    0 2px 10px rgba(0, 0, 0, 0.76);
}

.floating-log.crit .floating-log-damage {
  color: #fff3c4;
}

@keyframes floatingLogNodeAura {
  0% {
    opacity: 0.3;
    transform: translateY(-8%) rotate(6deg) scale(0.98);
  }
  52% {
    opacity: 0.5;
    transform: translateY(-3%) rotate(0deg) scale(1.03);
  }
  100% {
    opacity: 0.3;
    transform: translateY(-8%) rotate(6deg) scale(0.98);
  }
}

.enemy-transition-banner {
  position: fixed;
  left: 50%;
  top: 50%;
  z-index: 90;
  margin: 0;
  padding: 0.22em 0.44em;
  font-family: "Trajan Pro", "Cinzel", "Yu Mincho", serif;
  font-weight: 700;
  letter-spacing: 0.07em;
  line-height: 1.15;
  text-align: center;
  font-size: clamp(1.55rem, 4vw, 3.4rem);
  pointer-events: none;
  user-select: none;
  opacity: 0;
  transform: translate(-50%, -50%) scale(0.88);
  animation: enemyTransitionBannerPulse 1.15s cubic-bezier(0.18, 0.82, 0.18, 1) forwards;
}

.enemy-transition-banner.defeat {
  color: #ffd7d7;
  text-shadow:
    0 0 14px rgba(255, 178, 178, 0.92),
    0 0 38px rgba(255, 102, 102, 0.64),
    0 2px 8px rgba(0, 0, 0, 0.66);
}

.enemy-transition-banner.spawn {
  color: #d7ecff;
  text-shadow:
    0 0 14px rgba(181, 228, 255, 0.92),
    0 0 40px rgba(116, 189, 255, 0.62),
    0 2px 8px rgba(0, 0, 0, 0.66);
}

.app-shell {
  position: relative;
  z-index: 1;
  width: min(1220px, 94vw);
  margin: 28px auto 48px;
  display: grid;
  gap: 18px;
  grid-template-columns: 1.5fr 1fr;
  grid-template-areas:
    "hero hero"
    "status status"
    "board command"
    "log log";
}

.hero {
  grid-area: hero;
  border: 1px solid var(--line);
  background: linear-gradient(130deg, var(--node-2), var(--node-0));
  border-radius: 18px;
  padding: 22px 24px;
  box-shadow: var(--shadow);
}

.hero h1 {
  margin: 6px 0;
  font-family: "Didot", "Bodoni MT", "Yu Mincho", serif;
  font-size: clamp(1.72rem, 3vw, 2.4rem);
  letter-spacing: 0.05em;
}

.brand-title {
  margin: 0;
  font-family: "Cinzel", "Trajan Pro", "Didot", "Bodoni MT", serif;
  font-size: clamp(2rem, 4.3vw, 3.15rem);
  letter-spacing: 0.18em;
  font-weight: 700;
  text-transform: uppercase;
  color: #f3f7ff;
  text-shadow:
    0 0 14px rgba(240, 248, 255, 0.34),
    0 0 38px rgba(236, 245, 255, 0.24);
}

.brand-credit {
  margin: 6px 0 0;
  color: #c7d0e4;
  font-size: 0.72rem;
  letter-spacing: 0.16em;
  text-transform: uppercase;
}

.panel {
  border: 1px solid var(--line);
  border-radius: 18px;
  padding: 16px;
  background: var(--glass);
  backdrop-filter: blur(8px);
  box-shadow: var(--shadow);
}

.panel-head h2 {
  margin: 0;
  font-size: 1.05rem;
  font-family: "Hiragino Kaku Gothic ProN", "Yu Gothic", sans-serif;
}

.panel-head p {
  margin: 4px 0 0;
  color: var(--muted);
  font-size: 0.84rem;
}

.status-panel {
  grid-area: status;
  display: grid;
  grid-template-columns: minmax(0, 2.25fr) minmax(130px, 0.55fr);
  gap: 12px;
  align-items: stretch;
}

.combatant,
.turn-panel {
  border: 1px solid var(--node-border);
  border-radius: 14px;
  padding: 12px;
  background: linear-gradient(170deg, var(--node-2), var(--node-0));
}

.combatant h2 {
  margin: 2px 0;
  font-size: 1.03rem;
}

.combatant-label {
  margin: 0;
  color: #d9e4fb;
  font-size: 0.71rem;
  text-transform: uppercase;
  letter-spacing: 0.18em;
}

.combatant-sub {
  margin: 0;
  color: var(--muted);
  font-size: 0.77rem;
}

.enemy-layout {
  display: grid;
  grid-template-columns: minmax(0, 1.45fr) minmax(0, 1fr);
  gap: 14px;
  align-items: stretch;
}

.enemy-info {
  display: flex;
  flex-direction: column;
}

@keyframes enemyArtDreadPulse {
  0%,
  100% {
    border-color: rgba(180, 48, 69, 0.55);
    box-shadow:
      inset 0 0 34px rgba(0, 0, 0, 0.5),
      0 0 22px rgba(112, 16, 33, 0.34);
  }
  50% {
    border-color: rgba(223, 76, 102, 0.72);
    box-shadow:
      inset 0 0 42px rgba(0, 0, 0, 0.64),
      0 0 30px rgba(158, 28, 52, 0.48);
  }
}

@keyframes enemyArtMistDrift {
  0%,
  100% {
    transform: translate3d(0, 0, 0) scale(1);
    opacity: 0.72;
  }
  50% {
    transform: translate3d(0, 2%, 0) scale(1.04);
    opacity: 0.92;
  }
}

.enemy-art-slot {
  width: 100%;
  aspect-ratio: 16 / 9;
  position: relative;
  isolation: isolate;
  border: 1px solid rgba(180, 48, 69, 0.55);
  border-radius: 12px;
  background:
    linear-gradient(162deg, rgba(8, 5, 10, 0.96), rgba(16, 7, 13, 0.92)),
    radial-gradient(circle at 18% 14%, rgba(138, 22, 41, 0.32), transparent 54%);
  box-shadow:
    inset 0 0 34px rgba(0, 0, 0, 0.5),
    0 0 22px rgba(112, 16, 33, 0.34);
  animation: enemyArtDreadPulse 4.8s ease-in-out infinite;
  overflow: hidden;
}

.enemy-art-slot::before,
.enemy-art-slot::after {
  content: none;
  display: none;
}

.enemy-art-slot::before {
  inset: -14%;
  z-index: 1;
  background:
    radial-gradient(circle at 50% 38%, rgba(199, 44, 70, 0.24), transparent 56%),
    radial-gradient(circle at 32% 72%, rgba(129, 22, 44, 0.3), transparent 62%);
  mix-blend-mode: screen;
  animation: enemyArtMistDrift 5.6s ease-in-out infinite;
}

.enemy-art-slot::after {
  inset: 0;
  z-index: 2;
  background:
    radial-gradient(circle at center, transparent 38%, rgba(3, 2, 6, 0.88) 100%),
    linear-gradient(180deg, rgba(0, 0, 0, 0.08), rgba(0, 0, 0, 0.42));
}

.enemy-art-slot.enemy-hit-flash {
  animation: enemyHitFlash 0.34s ease-out;
}

.enemy-art-slot.enemy-critical-hit-flash {
  animation: criticalFlash 0.56s ease-out;
}

.enemy-art-slot.enemy-defeat-phase {
  border-color: rgba(255, 157, 157, 0.74);
  box-shadow: 0 0 26px rgba(255, 111, 111, 0.36);
}

.enemy-art-slot.enemy-defeat-phase img {
  animation: enemyCardDefeatFade 0.98s ease-out forwards;
}

.enemy-art-slot.enemy-spawn-phase {
  border-color: rgba(188, 226, 255, 0.72);
  box-shadow: 0 0 28px rgba(145, 213, 255, 0.34);
}

.enemy-art-slot.enemy-spawn-phase img {
  animation: enemyCardSpawnReveal 0.88s ease-out forwards;
}

.board-slot.player-hit-flash {
  animation: enemyHitFlash 0.34s ease-out;
}

.board-slot.guard-critical-flash {
  animation: guardCriticalFlash 0.56s ease-out;
}

.board-slot.lancelate-preemptive-glow {
  animation: lancelateSlotAura 1.12s ease-out;
}

.board-slot.gaius-last-stand-glow {
  animation: gaiusLastStandAura 1.5s ease-out;
}

.board-slot.enchant-link-source-flash {
  animation: enchantLinkSourceFlash 0.9s ease-out;
}

.board-slot.enchant-link-target-flash {
  animation: enchantLinkTargetFlash 0.9s ease-out;
}

.board-slot.minstrel-relay-source-flash {
  animation: minstrelRelaySourceFlash 1s ease-out;
}

.board-slot.minstrel-relay-target-flash {
  animation: minstrelRelayTargetFlash 0.9s ease-out;
}

.board-slot.berserker-rage-glow {
  animation: berserkerRageSlotAura 1.1s ease-out;
}

.board-slot.luna-star-wisdom-glow {
  animation: lunaStarWisdomSlotAura 1.02s ease-out;
}

.enemy-art-slot img {
  position: relative;
  z-index: 0;
  width: 100%;
  height: 100%;
  display: block;
  object-fit: contain;
  object-position: center;
  filter: saturate(0.84) contrast(1.08) brightness(0.84) hue-rotate(-8deg);
}

.enemy-stats {
  margin: 10px 0 0;
  display: grid;
  grid-template-columns: repeat(3, minmax(0, 1fr));
  gap: 6px;
}

.enemy-stats div {
  background: rgba(10, 12, 19, 0.78);
  border: 1px solid var(--node-border);
  border-radius: 8px;
  padding: 6px;
}

.enemy-stats dt {
  margin: 0;
  color: var(--muted);
  font-size: 0.62rem;
}

.enemy-stats dd {
  margin: 3px 0 0;
  font-size: 0.87rem;
  font-family: "Avenir Next", "Yu Gothic", sans-serif;
}

.hp-wrap {
  margin-top: 10px;
}

.hp-meta {
  display: flex;
  justify-content: space-between;
  align-items: center;
  font-size: 0.83rem;
}

.hp-meta strong {
  font-family: "Avenir Next", "Yu Gothic", sans-serif;
  font-size: 0.95rem;
}

.hp-bar {
  margin-top: 6px;
  height: 10px;
  border-radius: 999px;
  overflow: hidden;
  background: rgba(7, 9, 14, 0.9);
  border: 1px solid rgba(220, 229, 247, 0.24);
}

.hp-bar span {
  display: block;
  height: 100%;
  width: 100%;
  transition: width 0.3s ease;
}

.hp-bar-enemy span {
  background: linear-gradient(90deg, #ff7f8f, #ffbc86);
}

.hp-bar-player span {
  background: linear-gradient(90deg, #8bd4ff, #ffe7a5);
}

.turn-panel {
  text-align: center;
  display: grid;
  place-content: center;
  gap: 4px;
  padding: 9px 10px;
  cursor: pointer;
  user-select: none;
  transition:
    border-color 0.16s ease,
    box-shadow 0.16s ease,
    transform 0.16s ease;
}

.turn-panel:hover {
  border-color: rgba(255, 223, 162, 0.74);
  box-shadow:
    0 0 0 1px rgba(255, 233, 186, 0.26),
    0 10px 24px rgba(0, 0, 0, 0.36);
  transform: translateY(-1px);
}

.turn-panel:focus-visible {
  outline: none;
  border-color: rgba(255, 236, 194, 0.9);
  box-shadow:
    0 0 0 2px rgba(255, 238, 199, 0.44),
    0 12px 28px rgba(0, 0, 0, 0.4);
}

.turn-kicker {
  margin: 0;
  color: #d6e0f7;
  font-size: 0.64rem;
  letter-spacing: 0.16em;
  text-transform: uppercase;
}

.turn-value {
  margin: 0;
  font-family: "Bodoni MT", "Didot", serif;
  font-size: 1.64rem;
  line-height: 1;
}

.turn-rule {
  display: none;
}

.board-panel {
  grid-area: board;
}

.board-panel.barrier-guard-flash {
  animation: barrierFieldPulse 0.98s ease-out;
}

.board-panel.holy-barrier-guard-flash {
  animation: holyBarrierFieldPulse 1.25s ease-out;
}

.board-panel.iron-wall-guard-flash {
  animation: ironWallFieldPulse 1.05s ease-out;
}

.board-player-status {
  margin-bottom: 12px;
}

.morale-value {
  margin: 2px 0 0;
  color: #ffe5a7;
  font-family: "Avenir Next", "Yu Gothic", sans-serif;
  font-size: 0.94rem;
  font-weight: 600;
  letter-spacing: 0.02em;
  display: flex;
  align-items: center;
  gap: 10px;
  white-space: nowrap;
}

.morale-value strong {
  color: #ffe5a7;
  font-weight: 700;
}

.board-row {
  display: grid;
  grid-template-columns: repeat(3, minmax(0, 1fr));
  gap: 12px;
  margin-top: 12px;
}

.board-slot {
  border: 1px solid var(--node-border);
  border-radius: 14px;
  background: linear-gradient(170deg, var(--node-2), var(--node-0));
  min-height: 180px;
  padding: 10px;
  display: flex;
  flex-direction: column;
  gap: 8px;
  transition: transform 0.2s ease, border-color 0.2s ease, box-shadow 0.2s ease;
}

.board-slot:hover {
  transform: translateY(-2px);
  border-color: var(--line-strong);
}

.board-slot.place-ready {
  cursor: pointer;
  border-color: rgba(244, 249, 255, 0.9);
  box-shadow: 0 0 22px rgba(204, 223, 255, 0.24);
}

.board-slot.recommended-slot {
  border-color: rgba(190, 226, 255, 0.9);
  box-shadow: 0 0 28px rgba(172, 214, 255, 0.26);
}

.slot-role {
  margin: 0;
  color: #e2e9f8;
  font-size: 0.82rem;
  letter-spacing: 0.05em;
}

.slot-card {
  flex: 1;
  display: flex;
}

.slot-card .mini-card {
  width: 100%;
}

.command-panel {
  grid-area: command;
}

.command-buttons {
  margin-top: 12px;
  display: grid;
  gap: 10px;
}

#draw-btn {
  position: relative;
  border: 2px solid transparent;
  background:
    linear-gradient(145deg, rgba(11, 14, 21, 0.96), rgba(8, 11, 18, 0.96)) padding-box,
    linear-gradient(120deg, #ff6b6b 0%, #ffb56b 18%, #fff27d 36%, #7cf5b8 54%, #77d7ff 72%, #a992ff 86%, #ff82c4 100%) border-box;
  background-size: 100% 100%, 240% 240%;
  color: #edf4ff;
  animation: drawBtnRainbowBorderFlow 3.6s linear infinite;
  box-shadow:
    0 0 0 1px rgba(255, 255, 255, 0.08),
    0 0 16px rgba(157, 126, 255, 0.22);
}

#draw-btn.draw-btn-guide-flash {
  box-shadow:
    0 0 0 2px rgba(255, 237, 196, 0.52),
    0 0 30px rgba(162, 118, 255, 0.46);
  filter: brightness(1.08);
}

.btn {
  appearance: none;
  border: 1px solid transparent;
  border-radius: 12px;
  padding: 11px 14px;
  font-weight: 600;
  font-family: "Hiragino Kaku Gothic ProN", "Yu Gothic", sans-serif;
  cursor: pointer;
  transition: transform 0.15s ease, filter 0.15s ease, border-color 0.15s ease;
}

.btn:hover {
  transform: translateY(-1px);
  filter: brightness(1.05);
}

.btn:disabled {
  cursor: not-allowed;
  opacity: 0.5;
  transform: none;
}

.btn-primary {
  background: linear-gradient(140deg, #c79d43, #f2d28a);
  color: #2f2108;
}

@keyframes drawBtnRainbowBorderFlow {
  0% {
    background-position:
      0 0,
      0% 50%;
  }
  100% {
    background-position:
      0 0,
      200% 50%;
  }
}

.btn-ghost {
  background: rgba(11, 14, 20, 0.84);
  border-color: rgba(219, 228, 247, 0.38);
  color: #e9effd;
}

.resource-grid {
  margin-top: 12px;
  display: grid;
  grid-template-columns: repeat(2, minmax(0, 1fr));
  gap: 6px;
}

.resource-item {
  padding: 7px 8px;
  border: 1px solid var(--node-border);
  border-radius: 8px;
  background: rgba(10, 12, 19, 0.8);
}

.resource-item .label {
  display: block;
  color: var(--muted);
  font-size: 0.62rem;
}

.resource-item .value {
  display: block;
  margin-top: 2px;
  font-size: 0.88rem;
  font-family: "Avenir Next", "Yu Gothic", sans-serif;
}

.ability-info-panel {
  margin-top: 12px;
  border: 1px solid var(--node-border);
  border-radius: 10px;
  background: rgba(10, 12, 19, 0.74);
  padding: 9px 10px;
  min-height: 118px;
}

.ability-info-panel h3 {
  margin: 0;
  font-size: 0.78rem;
  letter-spacing: 0.03em;
  color: #e2e9f9;
}

.ability-info-panel p {
  margin: 7px 0 0;
  color: var(--muted);
  font-size: 0.73rem;
  line-height: 1.45;
}

.ability-info-detail {
  margin-top: 8px;
  display: grid;
  gap: 6px;
}

.ability-card-name {
  margin: 0;
  color: #edf3ff;
  font-size: 0.83rem;
  font-weight: 700;
}

.ability-card-meta {
  margin: 0;
  color: var(--muted);
  font-size: 0.72rem;
}

.ability-stats-grid {
  margin: 0;
  display: grid;
  grid-template-columns: repeat(3, minmax(0, 1fr));
  gap: 6px;
}

.ability-stats-grid div {
  border: 1px solid var(--node-border);
  border-radius: 8px;
  background: rgba(9, 12, 18, 0.8);
  padding: 6px;
}

.ability-stats-grid dt {
  margin: 0;
  color: var(--muted);
  font-size: 0.62rem;
}

.ability-stats-grid dd {
  margin: 2px 0 0;
  color: #edf3ff;
  font-size: 0.86rem;
  font-family: "Avenir Next", "Yu Gothic", sans-serif;
}

.log-panel {
  grid-area: log;
}

.log-list {
  list-style: none;
  margin: 12px 0 0;
  padding: 0;
  max-height: 240px;
  overflow: auto;
  display: grid;
  gap: 7px;
}

.log-item {
  border-left: 2px solid rgba(224, 232, 246, 0.8);
  padding: 7px 10px;
  background: rgba(9, 12, 18, 0.84);
  color: #e9eefb;
  font-size: 0.85rem;
}

.log-item.warn {
  border-left-color: #ffd47a;
}

.log-item.alert {
  border-left-color: var(--danger);
}

.log-item.good {
  border-left-color: #bcefd2;
}

.log-item.crit {
  border-left-color: #ffe39a;
  background: rgba(26, 18, 7, 0.82);
  color: #fff0cb;
}

.mini-card {
  border: 1px solid rgba(220, 229, 247, 0.42);
  border-radius: 12px;
  padding: 10px;
  background:
    linear-gradient(175deg, rgba(14, 17, 25, 0.98), rgba(8, 10, 16, 0.96));
  box-shadow: inset 0 0 40px rgba(236, 243, 255, 0.08);
  display: flex;
  flex-direction: column;
  gap: 8px;
}

.mini-card-art {
  width: 100%;
  aspect-ratio: 4 / 3;
  border-radius: 9px;
  overflow: hidden;
  border: 1px solid rgba(220, 228, 247, 0.34);
  background: rgba(9, 11, 17, 0.8);
}

.mini-card-art img {
  display: block;
  width: 100%;
  height: 100%;
  object-fit: cover;
}

.mini-card-compact {
  padding: 8px;
  gap: 6px;
}

.mini-card-compact .mini-card-art {
  aspect-ratio: 3 / 4;
}

.mini-card-compact .mini-card-art img {
  object-fit: contain;
}

.mini-card-compact .meta,
.mini-card-compact .tagline,
.mini-card-compact .stats {
  display: none !important;
}

.mini-card-compact .mini-card-head h3 {
  font-size: 0.86rem;
  line-height: 1.25;
}

.mini-card-compact .meta {
  font-size: 0.68rem;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}

.mini-card-head h3 {
  margin: 0;
  font-size: 1rem;
}

.mini-card .meta {
  margin: 2px 0 0;
  color: var(--muted);
  font-size: 0.75rem;
}

.tagline {
  margin: 0;
  color: #dce6fb;
  font-size: 0.76rem;
}

.stats {
  margin: 0;
  display: grid;
  grid-template-columns: repeat(3, minmax(0, 1fr));
  gap: 6px;
}

.stats div {
  background: rgba(9, 11, 17, 0.8);
  border-radius: 8px;
  padding: 6px;
}

.stats dt {
  margin: 0;
  color: var(--muted);
  font-size: 0.65rem;
}

.stats dd {
  margin: 3px 0 0;
  font-size: 0.88rem;
  font-family: "Avenir Next", "Yu Gothic", sans-serif;
}

.recommendation {
  margin: 3px 0 0;
  font-size: 0.73rem;
  color: #d7ecff;
}

.draw-modal {
  position: fixed;
  inset: 0;
  z-index: 30;
  display: grid;
  place-items: center;
}

.draw-modal.hidden {
  display: none;
}

.draw-modal-backdrop {
  position: absolute;
  inset: 0;
  background: rgba(7, 5, 12, 0.74);
  backdrop-filter: blur(3px);
}

.draw-window {
  position: relative;
  width: min(1280px, 96vw);
  max-height: 92vh;
  overflow-y: auto;
  border: 1px solid rgba(222, 231, 247, 0.5);
  border-radius: 18px;
  padding: 16px;
  background:
    linear-gradient(160deg, rgba(12, 15, 22, 0.96), rgba(8, 10, 16, 0.97)),
    radial-gradient(circle at 12% 10%, rgba(255, 255, 255, 0.12), transparent 52%);
  box-shadow: 0 36px 70px rgba(0, 0, 0, 0.62);
  animation: fadeUp 0.2s ease;
}

.draw-window-head {
  position: relative;
  padding-right: 230px;
}

.draw-shuffle-btn {
  position: absolute;
  top: 0;
  right: 0;
  padding: 8px 10px;
  border-radius: 10px;
  font-size: 0.74rem;
  letter-spacing: 0.01em;
  white-space: nowrap;
}

.draw-window-head h2 {
  margin: 4px 0 2px;
  font-size: 1.2rem;
}

.draw-window-head p {
  margin: 0;
  color: var(--muted);
  font-size: 0.84rem;
}

.draw-status-summary {
  margin-top: 10px;
  display: grid;
  grid-template-columns: repeat(5, minmax(0, 1fr));
  gap: 8px;
}

.draw-status-chip {
  border: 1px solid rgba(216, 228, 247, 0.38);
  border-radius: 10px;
  padding: 8px 10px;
  background:
    linear-gradient(168deg, rgba(18, 23, 34, 0.95), rgba(9, 13, 20, 0.9));
  box-shadow: inset 0 0 24px rgba(235, 243, 255, 0.06);
}

.draw-status-chip.enemy {
  border-color: rgba(255, 176, 176, 0.45);
}

.draw-status-chip.player {
  border-color: rgba(174, 214, 255, 0.42);
}

.draw-status-chip.turn {
  border-color: rgba(255, 230, 169, 0.52);
  cursor: pointer;
  user-select: none;
  transition:
    border-color 0.16s ease,
    box-shadow 0.16s ease,
    transform 0.16s ease;
}

.draw-status-chip.turn:hover {
  border-color: rgba(255, 232, 174, 0.8);
  box-shadow:
    0 0 0 1px rgba(255, 239, 197, 0.24),
    inset 0 0 24px rgba(255, 233, 176, 0.08);
  transform: translateY(-1px);
}

.draw-status-chip.turn:focus-visible {
  outline: none;
  border-color: rgba(255, 239, 197, 0.96);
  box-shadow:
    0 0 0 2px rgba(255, 239, 197, 0.44),
    inset 0 0 22px rgba(255, 231, 170, 0.12);
}

.draw-status-label {
  margin: 0;
  font-size: 0.66rem;
  letter-spacing: 0.08em;
  text-transform: uppercase;
  color: var(--muted);
}

.draw-status-value {
  margin: 4px 0 0;
  font-size: 0.96rem;
  line-height: 1.2;
  font-weight: 700;
  font-family: "Avenir Next", "Yu Gothic", sans-serif;
}

.draw-status-chip.enemy .draw-status-value {
  color: #ffd0d0;
}

.draw-status-chip.player .draw-status-value {
  color: #d7ebff;
}

.draw-status-chip.turn .draw-status-value {
  color: #ffe9b1;
}

.guard-choice-modal {
  position: fixed;
  inset: 0;
  z-index: 35;
  display: grid;
  place-items: center;
}

.guard-choice-modal.hidden {
  display: none;
}

.guard-choice-backdrop {
  position: absolute;
  inset: 0;
  background: rgba(8, 6, 14, 0.8);
  backdrop-filter: blur(2px);
}

.guard-choice-window {
  position: relative;
  width: min(460px, 92vw);
  border: 1px solid rgba(223, 231, 247, 0.48);
  border-radius: 12px;
  background: linear-gradient(160deg, rgba(13, 16, 23, 0.96), rgba(8, 10, 15, 0.97));
  box-shadow: 0 30px 64px rgba(0, 0, 0, 0.65);
  padding: 14px;
  animation: fadeUp 0.18s ease;
}

.guard-choice-window h3 {
  margin: 0;
  font-size: 0.98rem;
  letter-spacing: 0.03em;
  color: #edf3ff;
}

.guard-choice-window p {
  margin: 8px 0 0;
  color: #dbe4f8;
  font-size: 0.82rem;
  line-height: 1.4;
}

.guard-choice-hint {
  margin: 7px 0 0;
  color: #fff2c6;
  font-size: 0.76rem;
}

.guard-choice-buttons {
  margin-top: 10px;
  display: grid;
  grid-template-columns: repeat(2, minmax(0, 1fr));
  gap: 8px;
}

.guard-choice-buttons.mode-three {
  grid-template-columns: repeat(3, minmax(0, 1fr));
}

.guard-choice-buttons.mode-four {
  grid-template-columns: repeat(2, minmax(0, 1fr));
}

.draw-kicker {
  margin: 0;
  font-size: 0.72rem;
  letter-spacing: 0.14em;
  text-transform: uppercase;
  color: var(--accent-2);
}

.modal-cards {
  margin-top: 10px;
  display: grid;
  grid-template-columns: repeat(4, minmax(160px, 1fr));
  align-items: start;
  gap: 10px;
  overflow-x: auto;
  padding-bottom: 6px;
}

.modal-draw-card {
  cursor: pointer;
  width: 100%;
  min-width: 160px;
  max-width: none;
  padding: 8px;
  gap: 6px;
  margin-inline: auto;
  animation: floatCard 3.1s ease-in-out infinite;
  transition: transform 0.15s ease, border-color 0.15s ease, box-shadow 0.15s ease;
}

.modal-draw-card:nth-child(2) {
  animation-delay: 0.3s;
}

.modal-draw-card:nth-child(3) {
  animation-delay: 0.45s;
}

.modal-draw-card:nth-child(4) {
  animation-delay: 0.6s;
}

.modal-draw-card:hover {
  transform: translateY(-5px) scale(1.01);
  border-color: rgba(255, 226, 161, 0.95);
  box-shadow:
    inset 0 0 60px rgba(255, 220, 146, 0.14),
    0 0 32px rgba(255, 214, 124, 0.28);
}

.modal-draw-card .mini-card-head h3 {
  font-size: 0.9rem;
  line-height: 1.25;
}

.modal-draw-card .meta {
  font-size: 0.67rem;
}

.modal-draw-card .tagline {
  font-size: 0.71rem;
}

.modal-draw-card .stats {
  gap: 4px;
}

.modal-draw-card .stats div {
  padding: 5px;
}

.modal-draw-card .stats dt {
  font-size: 0.6rem;
}

.modal-draw-card .stats dd {
  margin-top: 2px;
  font-size: 0.8rem;
}

.modal-draw-card .mini-card-art {
  aspect-ratio: 3 / 4;
}

.modal-draw-card .mini-card-art img {
  object-position: top center;
}

@media (max-width: 980px) {
  .app-shell {
    grid-template-columns: 1fr;
    grid-template-areas:
      "hero"
      "status"
      "board"
      "command"
      "log";
  }

  .status-panel,
  .board-row,
  .resource-grid {
    grid-template-columns: 1fr;
  }

  .modal-cards {
    grid-template-columns: repeat(4, minmax(140px, 1fr));
  }

  .draw-status-summary {
    grid-template-columns: 1fr;
  }

  .draw-window-head {
    padding-right: 0;
  }

  .draw-shuffle-btn {
    position: static;
    width: 100%;
    margin-bottom: 8px;
  }

  .enemy-layout {
    grid-template-columns: 1fr;
  }

  .guard-choice-buttons {
    grid-template-columns: 1fr;
  }

  .board-slot {
    min-height: 150px;
  }

  .title-password-row {
    grid-template-columns: 1fr;
  }

  .title-setting-item {
    grid-template-columns: 1fr;
    gap: 8px;
  }

  .title-settings-toggle {
    width: 100%;
  }

  .title-summon-card {
    width: min(82vw, 268px);
  }
}
